<?xml version="1.0"?>
<!DOCTYPE hibernate-mapping PUBLIC 
	"-//Hibernate/Hibernate Mapping DTD 3.0//EN"
	"http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">

<hibernate-mapping>
	<sql-query name="GetWorkNoStatusEventCodeByIdsQuery">
		<![CDATA[

SELECT EOOR.EOOR_ID,EODM.EOWO_WORK_ORDER_NO,EODM.EODM_EVENT_STATUS_CODE FROM EO_ORDER EOOR
LEFT JOIN 
( SELECT EOOR.EOOR_ID AS EOOR_ID,EOWO.EOWO_WORK_ORDER_NO AS EOWO_WORK_ORDER_NO,EODM.EODM_EVENT_STATUS_CODE AS EODM_EVENT_STATUS_CODE
 FROM EO_ORDER EOOR ,EO_WORK_ORDER EOWO ,EO_DIVIDE_PARAM EODP,EO_DIVIDE_MILESTONE EODM
WHERE EOOR.EOOR_ORDER_NO=EOWO.EOWO_ORDER_NO AND EOOR.ORG_ID=EOWO.ORG_ID
AND EOOR.EOOR_DIVIDE_CODE=EODP.PM_CODE AND EODP.ORG_ID=EOOR.ORG_ID
AND EODP.ORG_ID=EODM.ORG_ID AND EODP.PM_CODE=EODM.EODM_EODP_PM_CODE
AND EODM.EODM_EODR_SEQUENCE=EOWO.EOWO_DIVIDE_SEQUENCE AND EODM.EODM_WORK_TYPE_CODE = EOWO.EOWO_WORK_TYPE_CODE
<< AND EOOR.EOOR_ID IN (:eoorIds) >>
<< AND EODM.EODM_ORDER_STATUS=:eodmOrderStatus >>
 )  EODM
ON EOOR.EOOR_ID=EODM.EOOR_ID
WHERE 1=1
AND  EOOR.EOOR_ID IN (:eoorIds)

		]]>
	</sql-query>
</hibernate-mapping>
