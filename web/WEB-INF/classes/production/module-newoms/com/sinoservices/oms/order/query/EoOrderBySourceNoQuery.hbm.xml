<?xml version="1.0"?>
<!DOCTYPE hibernate-mapping PUBLIC 
	"-//Hibernate/Hibernate Mapping DTD 3.0//EN"
	"http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">

<hibernate-mapping>
	<sql-query name="EoOrderBySourceNoQuery">
		<![CDATA[

select EOOR.EOOR_SOURCE_NO,   
       EOOR.EOOR_ORDER_NO,
       EOOR.EOOR_LOGISTIC_NO ,
       ITEM.EOOI_CODE, 
       ITEM.EOOI_LOTATT04,
       ITEM.Eooi_Customer_Item_No,
NVL(LOT.code_alias,
   (select eb.EBCD_NAME_CN
      from eb_code_master eb
     where eb.ebcd_dictionary_type = 'SYS_WM_QUALIFY'
       and eb.EBCD_SUBSTR1 = 'Y'
       and eb.ebcd_code = ITEM.EOOI_LOTATT04)) as STATUS_NAME,
       ITEM.EOOI_NAME, 
       ITEM.EOOI_PACKAGE_TYPE_NAME,
       ITEM.EOOI_PACKAGE_UNIT_NAME,
       ITEM.EOOI_PACKAGE_QUANTITY  
from eo_order EOOR 
left join eo_order_item ITEM on EOOR.EOOR_ORDER_NO =  ITEM.Eooi_Order_No
 LEFT JOIN WM_CODE_MASTER LOT
       ON  EOOR.eoor_Customer_Code = LOT.owner_code
       AND ITEM.EOOI_LOTATT04 = LOT.CODE_ID
       AND LOT.STATUS = 0
       AND LOT.REC_STATUS = 0
where  1=1
 AND EOOR.REC_STATUS = 0 
<< AND EOOR.EOOR_ORDER_BIG_TYPE LIKE :eoorOrderBigType >>
<< AND EOOR.EOOR_SOURCE_SYS = :eoorSourceSys>>
<< AND EOOR.EOOR_UPSTREAM_SYS = ï¼šeoorUpstreamSys >>
<< AND EOOR.EOOR_CUSTOMER_CODE = :eoorCustomerCode>>
<< AND EOOR.SITE_CODE = :siteCode>>
<< AND EOOR.EOOR_STATUS_CODE = :eoorStatusCode>>
<<AND EOOR.EOOR_SOURCE_NO in (:eoorSourceNos) >>
<<AND EOOR.EOOR_ORDER_NO in (:eoorOrderNos) >>
<<AND EOOR.EOOR_WMS_NO in (:eoorWmsNos) >>
<< AND EOOR.EOOR_ORDER_TYPE_CODE != :eoorNotOrderTypeCode >>
  ORDER BY EOOR.EOOR_ORDER_NO 
		]]>
	</sql-query>
</hibernate-mapping>
