<?xml version="1.0"?>
<!DOCTYPE hibernate-mapping PUBLIC 
	"-//Hibernate/Hibernate Mapping DTD 3.0//EN"
	"http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">

<hibernate-mapping>
	<sql-query name="EoWmsTmsSiteQuery">
		<![CDATA[
SELECT EOWT_ID,
       EO_WMS_TMS_SITE.CREATOR,
       EO_WMS_TMS_SITE.CREATE_TIME,
       EO_WMS_TMS_SITE.MODIFIER,
       EO_WMS_TMS_SITE.MODIFY_TIME,
       EO_WMS_TMS_SITE.REC_VER,
       EO_WMS_TMS_SITE.REC_STATUS,
       WMS_SITE_CODE,
       WMS_SITE_NAME,
       TMS_SITE_CODE,
       TMS_SITE_NAME,
       ESUS.ESUS_USER_NAME_CN      AS ESUS_USER_CREATOR_NAME,
       ESUSM.ESUS_USER_NAME_CN      AS ESUS_USER_MODIFIER_NAME

  FROM EO_WMS_TMS_SITE
  LEFT JOIN ES_USER ESUS
    ON EO_WMS_TMS_SITE.CREATOR = ESUS.ESUS_ID
  LEFT JOIN ES_USER ESUSM
    ON EO_WMS_TMS_SITE.MODIFIER = ESUSM.ESUS_ID
 WHERE 1=1
 <<AND REC_STATUS = :recStatus>>
 <<AND WMS_SITE_CODE = :wmsSiteCode>>
 <<AND WMS_SITE_NAME LIKE :wmsSiteName>>
 <<AND TMS_SITE_CODE = :tmsSiteCode>>
 <<AND TMS_SITE_NAME LIKE :tmsSiteName>>
 <<AND WMS_SITE_CODE in (:wmsSiteCodes)>>
 ORDER BY EO_WMS_TMS_SITE.MODIFY_TIME DESC
		]]>
	</sql-query>
</hibernate-mapping>