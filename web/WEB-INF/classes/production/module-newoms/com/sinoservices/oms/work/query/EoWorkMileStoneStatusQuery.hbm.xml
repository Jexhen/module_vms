<?xml version="1.0"?>
<!DOCTYPE hibernate-mapping PUBLIC 
	"-//Hibernate/Hibernate Mapping DTD 3.0//EN"
	"http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">

<hibernate-mapping>
	<sql-query name="EoWorkMileStoneStatusQuery">
		<![CDATA[

SELECT  
     EOWS.EOWA_ID,
     EOWS.CREATOR,
     EOWS.CREATE_TIME,
     EOWS.MODIFIER,
     EOWS.MODIFY_TIME,
     EOWS.REC_VER,
     EOWS.REC_STATUS,
     EOWS.ORG_ID,
     EOWS.EOWA_SEQUENCE,
     EOWS.EOWA_WORK_NO,
     EOWS.EOWA_STATUS_CODE,
     EOWS.EOWA_STATUS_NAME,
     EOWS.EOWA_ACTUAL_TIME,
     EOWS.EOWA_OPERATOR_CODE,
     EOWS.EOWA_OPERATOR_NAME,
     EOWS.EOWA_LOCATION_CODE,
     EOWS.EOWA_LOCATION_NAME,
     EOWS.EOWA_REMARK,
     EOWS.EOWA_REMARK_NAME_A,
     EOWS.EOWA_REMARK_VALUE_A,
     EOWS.EOWA_REMARK_NAME_B,
     EOWS.EOWA_REMARK_VALUE_B,
     EOWS.EOWA_REMARK_NAME_C,
     EOWS.EOWA_REMARK_VALUE_C,
     EOWS.EOWA_REMARK_NAME_D,
     EOWS.EOWA_REMARK_VALUE_D,
     EOWS.EOWA_REMARK_NAME_E,
     EOWS.EOWA_REMARK_VALUE_E,
     ESUS.ESUS_USER_NAME_CN,
     ESUS.ESUS_USER_NAME_EN,
     EOWS.EOWA_OPERATE_DATE
     FROM EO_WORK_STATUS EOWS LEFT JOIN EO_WORK_ORDER EOWO ON EOWS.EOWA_WORK_NO=EOWO.EOWO_WORK_ORDER_NO
     AND EOWS.ORG_ID=EOWO.ORG_ID AND EOWO.REC_STATUS=0
     LEFT JOIN ES_USER ESUS ON TO_CHAR(EOWS.CREATOR)=TO_CHAR(ESUS.ESUS_ID)
     AND EOWS.ORG_ID=ESUS.ESUS_ESCO_ID AND ESUS.ESUS_ISENABLE='Y'
     WHERE 1=1
     AND EOWS.REC_STATUS=0
     <<AND EOWS.ORG_ID=:orgId>>
     <<AND EOWS.EOWA_WORK_NO LIKE :eowaWorkNo>> 
     <<and eows.eowa_status_name LIKE :eowaStatusName>>
     <<and eows.eowa_status_code LIKE :eowaStatusCode>>
     <<AND EOWS.EOWA_WORK_NO IN (:eowaWorkOrderNos)>>
     ORDER BY NVL(EOWS.EOWA_ACTUAL_TIME, (SYSDATE + 9999 + NVL(EOWS.EOWA_SEQUENCE, 0))),EOWS.EOWA_OPERATE_DATE,EOWS.EOWA_SEQUENCE,EOWS.EOWA_STATUS_CODE

		]]>
	</sql-query>
</hibernate-mapping>
