<?xml version="1.0"?>
<!DOCTYPE hibernate-mapping PUBLIC 
	"-//Hibernate/Hibernate Mapping DTD 3.0//EN"
	"http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">

<hibernate-mapping>
	<sql-query name="UpdateSumEoOrderItemUpdate">
		<![CDATA[
		
UPDATE EO_ORDER EOOR
   SET (EOOR.EOOR_PACKAGE_QUANTITY,
        EOOR.EOOR_QUANTITY,
        EOOR.EOOR_GROSS_WEIGHT,
        EOOR.EOOR_NET_WEIGHT,
        EOOR.EOOR_VOLUME) = 
        (SELECT 
         NVL(SUM(EOOI.EOOI_PACKAGE_QUANTITY),0),
        NVL(SUM(EOOI.EOOI_QUANTITY),0),
        NVL(SUM(EOOI.EOOI_GROSS_WEIGHT),0),
        NVL(SUM(EOOI.EOOI_NET_WEIGHT),0),
        NVL(SUM(EOOI.EOOI_VOLUME),0)    
        FROM EO_ORDER_ITEM EOOI
        WHERE EOOI.EOOI_ORDER_NO = EOOR.EOOR_ORDER_NO
        AND EOOI.ORG_ID = EOOR.ORG_ID
        AND EOOR.EOOR_ORDER_NO IN (:orderNos)
        )
 WHERE 1=1
 AND EOOR.EOOR_ORDER_NO IN (:orderNos)
 AND EOOR.ORG_ID =:orgId
		
		
		]]>
	</sql-query>
</hibernate-mapping>