<?xml version="1.0"?>
<!DOCTYPE hibernate-mapping PUBLIC 
	"-//Hibernate/Hibernate Mapping DTD 3.0//EN"
	"http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">

<hibernate-mapping>
	<sql-query name="DeleteEoWorkAllUpdate">
		<![CDATA[
begin


DELETE FROM EO_WORK_ITEM EOWI WHERE 
EOWI.EOWI_WORK_ORDER_NO IN (SELECT EOWO.EOWO_WORK_ORDER_NO FROM EO_WORK_ORDER EOWO WHERE EOWO.EOWO_ORDER_NO IN (:ids));

DELETE FROM EO_WORK_CONTAINER EOWC WHERE 
EOWC.EOWC_WORK_ORDER_NO IN (SELECT EOWO.EOWO_WORK_ORDER_NO FROM EO_WORK_ORDER EOWO WHERE EOWO.EOWO_ORDER_NO IN (:ids));

DELETE FROM EO_WORK_FEE EOWF WHERE 
EOWF.EOWF_WORK_ORDER_NO IN (SELECT EOWO.EOWO_WORK_ORDER_NO FROM EO_WORK_ORDER EOWO WHERE EOWO.EOWO_ORDER_NO IN (:ids));

delete from EO_ORDER_MILESTONE T
 where T.EOOM_ID IN (select EOOM.EOOM_ID
                       from EO_ORDER_MILESTONE EOOM, EO_WORK_ORDER EOWO
                      where EOWO.EOWO_ORDER_NO in (:ids)
                        and EOWO.EOWO_WORK_ORDER_NO = EOOM.EOOM_WORK_NO
                        and EOWO.EOWO_ORDER_NO = EOOM.EOOM_ORDER_NO
                        and EOWO.ORG_ID = EOOM.ORG_ID);
END;
		]]>
	</sql-query>
</hibernate-mapping>
