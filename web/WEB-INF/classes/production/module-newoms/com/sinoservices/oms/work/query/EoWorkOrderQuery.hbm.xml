<?xml version="1.0"?>
<!DOCTYPE hibernate-mapping PUBLIC 
	"-//Hibernate/Hibernate Mapping DTD 3.0//EN"
	"http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">

<hibernate-mapping>
	<sql-query name="EoWorkOrderQuery">
		<![CDATA[

select 
	   EOWO.EOWO_IS_C_ORDER,
	   EOWO.EOWO_ID,
       EOWO.CREATOR,
       EOWO.CREATE_TIME,
       EOWO.MODIFIER,
       EOWO.MODIFY_TIME,
       EOWO.REC_VER,
       EOWO.REC_STATUS,
       EOWO.ORG_ID,
       EOWO.PM_CODE,
       EOWO.TIME_ZONE,
       EOWO.EOWO_WORK_ORDER_NO,
       EOWO.EOWO_WORK_NO,
       EOWO.EOWO_WORK_TYPE_CODE,
       EOWO.EOWO_WORK_TYPE_NAME,
       EOWO.EOWO_STATUS_CODE,
       EOWO.EOWO_STATUS_NAME,
       EOWO.EOWO_ORDER_NO,
       EOWO.EOWO_LOGISTIC_NO,
       EOWO.EOWO_ORDER_TYPE_CODE,
       EOWO.EOWO_ORDER_TYPE_NAME,
       EOWO.EOWO_PRIORITY_CODE,
       EOWO.EOWO_PRIORITY_NAME,
       EOWO.EOWO_TRANS_TYPE_CODE,
       EOWO.EOWO_TRANS_TYPE_NAME,
       EOWO.EOWO_CUSTOMER_CODE,
       EOWO.EOWO_CUSTOMER_NAME,
       EOWO.EOWO_CUSTOMER_CONTACT_CODE,
       EOWO.EOWO_CUSTOMER_CONTACT_NAME,
       EOWO.EOWO_CUSTOMER_CONTACT_PHONE,
       EOWO.EOWO_ORDER_TIME,
       EOWO.EOWO_REQUIRE_SHIPPER_TIME_FM,
       EOWO.EOWO_REQUIRE_SHIPPER_TIME_TO,
       EOWO.eowo_pending_reason,
       EOWO.EOWO_REQUIRE_CONSIGNEE_TIME_FM,
       EOWO.EOWO_REQUIRE_CONSIGNEE_TIME_TO,
       EOWO.EOWO_ORDER_DEPARTMENT_CODE,
       EOWO.EOWO_ORDER_DEPARTMENT_NAME,
       EOWO.EOWO_OPERATE_DEPARTMENT_CODE,
       EOWO.EOWO_OPERATE_DEPARTMENT_NAME,
       EOWO.EOWO_SHIPPER_CODE,
       EOWO.EOWO_SHIPPER_NAME,
       EOWO.EOWO_SHIPPER_CONTACT_CODE,
       EOWO.EOWO_SHIPPER_CONTACT_NAME,
       EOWO.EOWO_SHIPPER_CONTACT_PHONE,
       EOWO.EOWO_SHIPPER_LOCATION_CODE,
       EOWO.EOWO_SHIPPER_LOCATION_NAME,
       EOWO.EOWO_SHIPPER_REGION_CODE,
       EOWO.EOWO_SHIPPER_REGION_NAME,
       EOWO.EOWO_SHIPPER_CITY_CODE,
       EOWO.EOWO_SHIPPER_CITY_NAME,
       EOWO.EOWO_SHIPPER_DISTRICT_CODE,
       EOWO.EOWO_SHIPPER_DISTRICT_NAME,
       EOWO.EOWO_CONSIGNEE_CODE,
       EOWO.EOWO_CONSIGNEE_NAME,
       EOWO.EOWO_CONSIGNEE_CONTACT_CODE,
       EOWO.EOWO_CONSIGNEE_CONTACT_NAME,
       EOWO.EOWO_CONSIGNEE_CONTACT_PHONE,
       EOWO.EOWO_CONSIGNEE_LOCATION_CODE,
       EOWO.EOWO_CONSIGNEE_LOCATION_NAME,
       EOWO.EOWO_CONSIGNEE_REGION_CODE,
       EOWO.EOWO_CONSIGNEE_REGION_NAME,
       EOWO.EOWO_CONSIGNEE_CITY_CODE,
       EOWO.EOWO_CONSIGNEE_CITY_NAME,
       EOWO.EOWO_CONSIGNEE_DISTRICT_CODE,
       EOWO.EOWO_CONSIGNEE_DISTRICT_NAME,
       EOWO.EOWO_REQ_ARRIVAL_CAR_DATE,
       EOWO.EOWO_REQ_BACK_DATE,
       EOWO.EOWO_PO_NO,
       EOWO.EOWO_SO_NO,
       EOWO.EOWO_DO_NO,
       EOWO.EOWO_BARCODE,
       EOWO.EOWO_SOURCE_CODE,
       EOWO.EOWO_SOURCE_NAME,
       EOWO.EOWO_PACKAGE_QUANTITY,
       EOWO.EOWO_QUANTITY,
       ROUND(EOWO.EOWO_GROSS_WEIGHT,2) AS EOWO_GROSS_WEIGHT,
       EOWO.EOWO_NET_WEIGHT,
       ROUND(EOWO.EOWO_VOLUME,6) AS EOWO_VOLUME,
       EOWO.EOWO_DIVIDE_CODE,
       EOWO.EOWO_DIVIDE_NAME,
       EOWO.EOWO_DIVIDE_SEQUENCE,
       EOWO.EOWO_DIVIDE_AUTO_ASSIGN,
       EOWO.EOWO_EVENT_OBJECT_CODE,
       EOWO.EOWO_EVENT_OBJECT_NAME,
       EOWO.EOWO_PROVIDER_ROLE_CODE,
       EOWO.EOWO_PROVIDER_ROLE_NAME,
       EOWO.EOWO_PROVIDER_CODE,
       EOWO.EOWO_PROVIDER_NAME,
       EOWO.EOWO_WHETHER_RELEASE,
       EOWO.EOWO_AUTO_RELEASE,
       EOWO.EOWO_RELEASE_SYSTEM_CODE,
       EOWO.EOWO_RELEASE_SYSTEM_NAME,
       EOWO.EOWO_INTERFACE_CODE,
       EOWO.EOWO_INTERFACE_NAME,
       EOWO.EOWO_REQUIREMENT,
       EOWO.EOWO_REMARK,
       EOWO.EOWO_MERGER_FLAG,
       EOWO.EOWO_SPLIT_FLAG,
       EOWO.EOWO_LINK_WORK_NO,
       EOWO.EOWO_WEATHER_RECEIPT,
	   EOWO.EOWO_PAYMENT_TYPE_CODE,
	   EOWO.EOWO_PAYMENT_TYPE_NAME,
	   EOWO.EOWO_WAREHOUSER_CODE,
	   EOWO.EOWO_WAREHOUSER_NAME,
	   EOWO.EOWO_STATION_CODE,
	   EOWO.EOWO_EVENT_STATUS_CODE,
	   EOWO.EOWO_STATION_NAME,
	   EOWO.EOWO_EDITABLE,
	   EOWO.EOWO_AMOUNT,
	   EOWO.EOWO_SELLING_CUSTOMER_CODE,
	   EOWO.EOWO_SELLING_CUSTOMER_NAME,
	   EOWO.EOWO_CARRIERS_CODE,
	   EOWO.EOWO_CARRIERS_NAME,
	   EOWO.EOWO_CONSIGNEE_CONTACT_MOBILE,
       EOWO.EOWO_SHIPPER_CONTACT_MOBILE,
       EOWO.EOWO_SHIPPER_CONSIGNEE_CODE,
       EOWO.EOWO_SHIPPER_CONSIGNEE_NAME,
       EOWO.EOWO_SHIPPER_FWH_CODE,
       EOWO.EOWO_SHIPPER_FWH_NAME,
       EOWO.EOWO_SHIPPER_PWH_CODE,
       EOWO.EOWO_SHIPPER_PWH_NAME,
       EOWO.EOWO_CONSIGNEE_PROVINCE_CODE,
       EOWO.EOWO_CONSIGNEE_PROVINCE_NAME,
       EOWO.EOWO_CONSIGNEE_FWH_CODE,
       EOWO.EOWO_CONSIGNEE_FWH_NAME,
       EOWO.EOWO_CONSIGNEE_PWH_CODE,
       EOWO.EOWO_CONSIGNEE_PWH_NAME,
       EOWO.EOWO_MILEAGE,
       EOWO.EOWO_COLLECTION_AMOUNT,
       EOWO.EOWO_CASH_RECEIPT,
       EOWO.EOWO_ITEM_OWNER_CODE,
       EOWO.EOWO_ITEM_OWNER_NAME,
       EOWO.EOWO_IS_QUALITY_CHECK,
       EOWO.EOWO_IS_SALE_PACKUP,
       EOWO.EOWO_IS_PROTOTYPE,
       EOWO.EOWO_IS_EXCEPTION,
       EOWO.EOWO_OFFSET_REASON,
       EOWO.COMPANY_CODE,
       EOWO.SITE_CODE,
       EOWO.COMPANY_NAME,
       EOWO.SITE_NAME,
       EOWO.EOWO_REQUIRE_CONSIGNEE_TIME,
       EOWO.EOWO_INVOICE_OBJECT_CODE,
       EOWO.EOWO_INVOICE_OBJECT_NAME,
       EOWO.EOWO_STEVEDORAGE_TYPE,
       EOWO.EOWO_IS_UPSTREAM_COST,
       EOWO.EOWO_IS_DOWNSTREAM_COST,
       EOWO.EOWO_CUSTOMER_ORDER_TYPE,
       EOWO.EOWO_PRODUCTION_ORGANIZATION,
       EOWO.EOWO_STOCK_REASON,
       EOWO.EOWO_IS_HYPERMARKET,
       EOWO.EOWO_SHIPPER_TOWN_CODE,
       EOWO.EOWO_SHIPPER_TOWN_NAME,
       EOWO.EOWO_SHIPPER_VILLAGE_CODE,
       EOWO.EOWO_SHIPPER_VILLAGE_NAME,
       EOWO.EOWO_CONSIGNEE_TOWN_CODE,
       EOWO.EOWO_CONSIGNEE_TOWN_NAME,
       EOWO.EOWO_CONSIGNEE_VILLAGE_CODE,
       EOWO.EOWO_CONSIGNEE_VILLAGE_NAME,
       EOWO.EOWO_LINE_CODE,
       EOWO.EOWO_LINE_NAME,
       EOWO.EOWO_DRIVER_CODE,
       EOWO.EOWO_DRIVER_NAME,
       EOWO.EOWO_CAR_NO,
       EOWO.EOWO_ORIGINAL_NO,
       EOWO.EOWO_PIER,
       EOWO.EOWO_CUSTOMS_OFF_DATE,
       EOWO.EOWO_CUSTOMS_PORT,
       EOWO.EOWO_LOAD_CONTAINER_TYPE,
       EOWO.EOWO_PLAN_CONTAINER_NO,
       EOWO.EOWO_MARK,
       EOWO.EOWO_LCL_NO,
       EOWO.EOWO_IS_INSPECTION,
       EOWO.EOWO_SETTLEMENT_OBJECT_CODE,
       EOWO.EOWO_SETTLEMENT_OBJECT_NAME,
       EOWO.EOWO_IS_COLLECTION_PAYM,
       EOWO.EOWO_RETURN_APPLICATION_NO,
       EOWO.EOWO_BACK_REASON,
       EOWO.EOWO_SOURCE_NO,
       EOWO.EOWO_ORDER_BIG_TYPE,
       EOWO.EOWO_TASK_BIG_TYPE,
       EOWO.EOWO_LTL_FLAG,
       EOWO.EOWO_BUSINESS_TYPE,
       EOWO.EOWO_IS_RESERVATION,
       EOWO.EOWO_VAMP_NO,
       EOWO.EOWO_WAVE_COUNT_NO,
       EOWO.EOWO_UPPER_TASK_NO,
       EOWO.EOWO_IS_TAIL,
       EOWO.EOWO_ISSUED_FLAG,
       EOWO.EOWO_SALES_CENTER_CODE,
       EOWO.EOWO_SALES_CENTER_NAME,
       EOWO.EOWO_PIER_CODE,
       EOWO.EOWO_CUSTOMS_PORT_CODE,
       EOWO.EOWO_IS_SPLIT_CAR,
       EOWO.EOWO_IS_IN_WH,
       EOWO.EOWO_IS_OUT_WH,
       EOWO.EOWO_IS_JOINT,
       EOWO.EOWO_IS_ALREADY_SPLIT_CAR,
       EOWO.EOWO_IS_ALREADY_IN_WH,
       EOWO.EOWO_IS_ALREADY_OUT_WH,
       EOWO.EOWO_UPSTREAM_CONFIRM_FLAG,
       EOWO.EOWO_UPSTREAM_SYS,
       EOWO.EOWO_FINANCE_NO,
       EOWO.EOWO_SHIPPER_LOCATION_ADDRESS,
       EOWO.EOWO_CONSIGNEE_LOCATION_ADDRE,
       EOWO.EOWO_SOURCE_CUSTOMER_CODE,
       EOWO.EOWO_SOURCE_CUSTOMER_NAME,
       
       EOWO.EOWO_WMS_NO,
       EOWO.EOWO_HEAVY_LIGHT_FLAG,
       EOWO.EOWO_NOT_SPLIT_QUANTITY,
       EOWO.EOWO_NOT_GROSS_WEIGHT,
       EOWO.EOWO_NOT_VOLUME,
       
       EOWO.EOWO_SOURCE_SYS,
       EOWO.EOWO_CONTRACT_NO,
       EOWO.TMS_SITE_CODE,
       EOWO.TMS_SITE_NAME,
       EOWO.WMS_SITE_CODE,
       EOWO.WMS_SITE_NAME,
       EOWO.EOWO_PRODUCTION_ORG_NAME,
       EOWO.EOWO_ORIGINAL_FWH_CODE,
       EOWO.EOWO_ORIGINAL_FWH_NAME,
       EOWO.EOWO_AIM_FWH_CODE,
       EOWO.EOWO_AIM_FWH_NAME,
       EOWO.EOWO_CUSTOMER_ORDER_TYPE_NAME,
       EOWO.EOWO_LOADGROUP_CODE,
       EOWO.EOWO_LOADGROUP_NAME,
       EOWO.EOWO_MANAGER_NAME,
       EOWO.EOWO_MANAGER_CODE,
       EOWO.EOWO_RECEIVING_DATE,
       EOWO.EOWO_SOURCE_INV_ORG_ID,
       EOWO.EOWO_TARGET_INV_ORG_ID,
       EOWO.EOWO_PLAN_ARRIVAL_DATE,
       EOWO.EOWO_REAL_SHIP_DATE,
       EOWO.EOWO_IS_ADVANCE_CONFIRM,
       EOWO.EOWO_IS_PICKING_RESERVATION,
       EOWO.EOWO_PICKING_RESERVATION_DATE,
       EOWO.EOWO_PICKING_RESERVATION_FLAG,
       EOWO.EOWO_IS_DELIVERY_RESERVATION,
       EOWO.EOWO_DELIVERY_RESERVATION_DATE,
       EOWO.EOWO_DELIVERY_RESERVATION_FLAG,
       EOWO.EOWO_IS_EDI,
       EOWO.EOWO_IS_PRINT_NO_TAX_PRICE,
       EOWO.EOWO_IS_PRINT_TAX_PRICE,
       EOWO.EOWO_CANNIBALIZING_NO,
       EOWO.EOWO_DO_DATE,
       EOWO.EOWO_DRIVER_PHONE,
       EOWO.EOWO_DISPATCH_DATE,
       EOWO.EOWO_ARRIVAL_DATE,
       EOWO.EOWO_LOADING_DATE,
       EOWO.EOWO_DEPARTURE_DATE,
       EOWO.EOWO_REAL_ARRIVAL_DATE,
       EOWO.EOWO_UNLOAD_FINISH_DATE,
       EOWO.EOWO_ELECTRONIC_DATE,
       EOWO.EOWO_CUSTOMER_SIGNER,
       EOWO.EOWO_CUSTOMER_SIGN_DATE,
       EOWO.EOWO_SIGNER,
       EOWO.EOWO_SIGN_DATE,
       EOWO.EOWO_OLD_LOGISTIC_NO,
       EOWO.EOWO_IS_LAST,
       EOWO.EOWO_VIRTUAL_CUSTOMER_CODE,
       EOWO.EOWO_VIRTUAL_CUSTOMER_NAME,
       EOWO.EOWO_ASSOCIATE_TASK_NO,
       EOWO.EOWO_IS_STARTING_TASK,
       EOWO.EOWO_SOURCE_FWH_CODE,
       EOWO.EOWO_SOURCE_FWH_NAME,
       EOWO.EOWO_UPPER_ALLOCATION_NO,
       EOWO.EOWO_IS_LATTER_SUBWAREHOUSE,
       EOWO.EOWO_IS_LOCK_LOT,
       EOWO.EOWO_REASON_TYPE,
       
       EOWO.EOWO_WMS_UNDO_QUANTITY,
       EOWO.EOWO_PICKING_RESERVATION_NO,
       EOWO.EOWO_DELIVERY_RESERVATION_NO,
       EOWO.EOWO_PRODUCING_AREA_CODE,
       EOWO.EOWO_PRODUCING_AREA_NAME,
       EOWO.EOWO_SUPPLIER_CODE,
       EOWO.EOWO_SUPPLIER_NAME,
       EOWO.EOWO_WORKSHOP_CODE,
       EOWO.EOWO_IS_ALREADY_JOINT,
       EOWO.EOWO_SOURCE_INV_ORG_NAME,
       EOWO.EOWO_TARGET_INV_ORG_NAME,
       EOWO.EOWO_DISPOSE_FLAG,
       EOWO.EOOR_OVERDUE_REASON,
       EOWO.EOOR_OVERDUE_DESCRIPTION,
       
       EOWO.EOWO_ALLOCAT_WH_DATE,
       EOWO.EOWO_ISSUED_DATE,
       EOWO.EOWO_WALKTHROUGH_DATE,
       EOWO.EOWO_VAMP_DATE,
       EOWO.EOWO_SUBSTR1,
       EOWO.EOWO_SUBSTR2,
       EOWO.EOWO_SUBSTR3,
       EOWO.EOWO_SUBSTR4,
       EOWO.EOWO_SUBSTR5,
       EOWO.EOWO_SUBSTR6,
       EOWO.EOWO_SUBSTR8,
       EOWO.EOWO_SUBSTR7,
       EOWO.EOWO_SUBDATE1,
       EOWO.EOWO_SUBDATE2,
       EOWO.EOWO_SUBDATE5,
       EOWO.EOWO_SUBDATE4,
       EOWO.EOWO_SUBDATE3,
       EOWO.EOWO_SUBNUM1,
       EOWO.EOWO_SUBNUM2,
       EOWO.EOWO_SUBNUM3,
       EOWO.EOWO_UPSTREAM_DETAIL_ADDRESS,
       
       NVL(EOWO.EOWO_IS_ARRIVAL_PAID,0) AS EOWO_IS_ARRIVAL_PAID,
       EOWO.EOWO_ARRIVAL_AMOUNT,
       EOWO.EOWO_INTERFACE_CREATE_TIME,
       EOWO.EOWO_CONSIGNEE_SHOP_NAME,
       EOWO.EOWO_SHIP_SHOP_NAME,
       EOWO.EOWO_UPSTREAM_SPECIMEN_TYPE,
       EOWO.EOWO_UPSTREAM_DOC_TYPE,
       EOWO.EOWO_UPSTREAM_CARRIER_CN,
       EOWO.EOWO_UPSTREAM_CARRIER_CODE,
       EOWO.EOWO_FACTORY_NAME,
       EOWO.EOWO_PRODUCT_LINE,
       EOWO.EOWO_EXPRESS_NO,
       EOWO.EOWO_OPERATE_REMARK,
       EOWO.EOWO_IS_FORWARD,
       EOWO.EOWO_TRANSPORT_MODE,
       EOWO.EOWO_IS_ARGENCY,
	   ESUS.ESUS_LOGIN_NAME,
	   ESUS.ESUS_USER_NAME_CN,
	   ESUS.ESUS_USER_NAME_EN,
	   ESUSM.ESUS_USER_NAME_CN AS ESUS_USER_NAME_CNM,
	   ESUSM.ESUS_USER_NAME_EN AS ESUS_USER_NAME_ENM,
	   EOWO.EOWO_TRANS_BUSINESS_TYPE,
	   EOWO.EOWO_COST_AMOUNT,
	   EOWO.EOWO_COST_NAME,
	   EOWO.EOWO_CHARGE_ITEM_NO,
	   EOWO.EOWO_COST_TIME,
	   EOWO.EOWO_COST_STATUS,
	   EOWO.EOWO_COST_REASON,
	   EOWO.IS_FROZEN_AUTO,
       EOWO.FROZEN_AUTO_PASS,
       EOWO.NEXT_WORK_ORDER_NO,
	   EOWO.EOWO_SHIPPER_STATION_CODE,
       EOWO.EOWO_CONSIGNEE_STATION_CODE,
       EOWO.EOWO_SHIPPER_STATION_NAME,
       EOWO.EOWO_CONSIGNEE_STATION_NAME
  from EO_WORK_ORDER EOWO
   <if is_not_empty(eowiCode) || is_not_empty(eowiTemperatureLevelCode) || is_not_empty(eowiLotNo) || is_not_empty(eowiRemark)>
	   left join EO_WORK_ITEM EOWI
	   on EOWO.EOWO_WORK_ORDER_NO = EOWI.EOWI_WORK_ORDER_NO
	   and EOWO.ORG_ID = EOWI.ORG_ID
	   and EOWI.REC_STATUS = 0    
	    <<and EOWI.EOWI_CODE=:eowiCode>>
		<<and EOWI.EOWI_TEMPERATURE_LEVEL_CODE=:eowiTemperatureLevelCode>>
		<<and EOWI.EOWI_LOT_NO like:eowiLotNo>>
		<<and EOWI.EOWI_REMARK like:eowiRemark>> 
   </if>
   LEFT JOIN ES_USER ESUS ON EOWO.CREATOR=ESUS.ESUS_ID 
   LEFT JOIN ES_USER ESUSM ON EOWO.MODIFIER=ESUSM.ESUS_ID
   
 where 1 = 1
 and EOWO.REC_STATUS = 0
 <if dataAuthority != 'N'>
	 AND <@dataFilter Table="HLS_ES_COMPANY_CODE" fiEld= "COMPANY_CODE" aLias="EOWO" />
	 AND 
	(
	<@dataFilter tAble="EO_WORK_ORDER" fiEld= "SITE_CODE" aLias="EOWO" />
	OR
	<@dataFilter tAble="EO_WORK_ORDER" fiEld= "TMS_SITE_CODE" aLias="EOWO" />
	)
	 AND <@dataFilter Table="HLS_EB_CUSTOMER" fiEld= "EOWO_CUSTOMER_CODE" aLias="EOWO" />
 </if>
 <<and EOWO.EOWO_IS_ALREADY_JOINT = :eowoIsAlreadyJoint>>
 <<and EOWO.EOWO_ID = :eowoId>>
 <<and EOWO.ORG_ID LIKE :orgId>>
 <<and EOWO.EOWO_WORK_ORDER_NO like :eowoWorkOrderNo>>
 <<and EOWO.EOWO_WORK_NO like :eowoWorkNo>>
 <<and EOWO.EOWO_ORDER_NO like :eowoOrderNo>>
 <<and EOWO.EOWO_LOGISTIC_NO like :eowoLogisticNo>>
 <<and EOWO.EOWO_ISSUED_FLAG =:eowoIssuedFlag>>
 <<and EOWO.EOWO_WORK_TYPE_CODE LIKE :eowoWorkTypeCode>>
 <<and EOWO.EOWO_WORK_TYPE_NAME LIKE :eowoWorkTypeName>>
 <<and EOWO.EOWO_STATUS_CODE =:eowoStatusCode>>
 <<and EOWO.EOWO_STATUS_NAME LIKE :eowoStatusName>>
 <<and EOWO.EOWO_CUSTOMER_CODE =:eowoCustomerCode>>
 <<and (EOWO.CREATE_TIME >=:eowoRequireShipperTimeFrom)>>
 <<and (EOWO.CREATE_TIME <=:eowoRequireShipperTimeTo)>>
 <<and (EOWO.EOWO_REQUIRE_CONSIGNEE_TIME_FM >=:eowoRequireConsigneeTimeFrom OR EOWO.EOWO_REQUIRE_CONSIGNEE_TIME_TO>=:eowoRequireConsigneeTimeFrom)>>
 <<and (EOWO.EOWO_REQUIRE_CONSIGNEE_TIME_FM <=:eowoRequireConsigneeTimeTo OR EOWO.EOWO_REQUIRE_CONSIGNEE_TIME_TO<=:eowoRequireConsigneeTimeTo)>>
 <<and EOWO.EOWO_REQUIRE_SHIPPER_TIME_FM >=:requireShipperTimeFm>>
 <<and EOWO.EOWO_REQUIRE_SHIPPER_TIME_FM <=:requireShipperTimeTo>>
 <<and EOWO.EOWO_REQUIRE_SHIPPER_TIME_TO>=:requireShipperTimeFm2>>
 <<and EOWO.EOWO_REQUIRE_SHIPPER_TIME_TO<=:requireShipperTimeTo2>>
 <<and EOWO.EOWO_REQUIRE_CONSIGNEE_TIME_FM >=:requireConsigneeTimeFm>>
 <<and EOWO.EOWO_REQUIRE_CONSIGNEE_TIME_FM <=:requireConsigneeTimeTo>>
 <<and EOWO.EOWO_REQUIRE_CONSIGNEE_TIME_TO>=:requireConsigneeTimeFm2>>
 <<and EOWO.EOWO_REQUIRE_CONSIGNEE_TIME_TO<=:requireConsigneeTimeTo2>>
 <<and EOWO.CREATE_TIME >= :createTimeFrom >>
 <<and EOWO.CREATE_TIME <= :createTimeTo+1>>
 <<and EOWO.EOWO_PRIORITY_CODE =:eowoPriorityCode>>
 <<and EOWO.EOWO_SHIPPER_LOCATION_CODE LIKE :eowoShipperLocationCode>>
 <<and EOWO.EOWO_CONSIGNEE_LOCATION_CODE LIKE :eowoConsigneeLocationCode>>
 <<and EOWO.EOWO_PROVIDER_CODE LIKE :eowoProviderCode>>
 <<and EOWO.EOWO_WHETHER_RELEASE LIKE :eowoWhetherRelease>>
 <<and EOWO.EOWO_RELEASE_SYSTEM_CODE LIKE :eowoReleaseSystem>>
 << AND EOWO.COMPANY_CODE LIKE :companyCode >>
 << AND EOWO.SITE_CODE LIKE :siteCode >>
 <<and EOWO.EOWO_REQUIREMENT like :eowoRequirement>>
 <<and EOWO.EOWO_REMARK like :eowoRemark>>
 <<and EOWO.EOWO.EOWO_EXPRESS_NO like :eowoExpressNo>>
 <<and nvl(EOWO.EOWO_SPLIT_FLAG,'N') =:eowoSplitFlag>>
 <if eowoMergerFlag=='N'>
 	and nvl(EOWO.EOWO_MERGER_FLAG,'N') =:eowoMergerFlag
 </if>
 <if eowoMergerFlag=='Y'>
 	and EOWO.EOWO_MERGER_FLAG =:eowoMergerFlag
 </if>
 <if eowoMergerFlag=='T'>
 	and nvl(EOWO.EOWO_MERGER_FLAG,'T') =:eowoMergerFlag
 </if>
 <if eowoMergerFlag=='Q'>
 	and EOWO.EOWO_MERGER_FLAG ='N'
 </if>
 <<and EOWO.EOWO_LINK_WORK_NO LIKE :eowoLinkWorkNO>>
 <<and EOWO.EOWO_PAYMENT_TYPE_CODE LIKE :eowoPaymentTypeCode>>
 <<and EOWO.EOWO_PAYMENT_TYPE_NAME LIKE :eowoPaymentTypeName>>
 
 <<and EOWI.EOWI_CODE LIKE :eowiCode>>
 <<and EOWI.EOWI_TEMPERATURE_LEVEL_CODE LIKE :eowiTemperatureLevelCode>>
 <<and EOWI.EOWI_LOT_NO like :eowiLotNo>>
 <<and EOWI.EOWI_REMARK like :eowiRemark>>
 
 <<AND EOWO.EOWO_WORK_ORDER_NO IN (:eowoNos)>>
 <<AND EOWO.EOWO_WORK_NO IN (:eowoWorkNos)>>
 <<AND EOWO.EOWO_ORDER_NO IN (:eoorNos)>>
 <<AND EOWO.EOWO_VAMP_NO IN (:eowoVampNos)>>
 <<AND EOWO.EOWO_UPPER_ALLOCATION_NO IN (:eowoUpperAllocationNos)>>
 <<AND EOWO.EOWO_SO_NO like :eowoSoNo>>
 <<AND EOWO.EOWO_PO_NO like :eowoPoNo>>
 <<AND EOWO.EOWO_TRANS_TYPE_CODE =:eowoTransTypeCode>>
 <<AND EOWO.EOWO_TRANS_TYPE_NAME like :eowoTransTypeName >>
 <<AND EOWO.EOWO_CUSTOMER_CONTACT_CODE LIKE :eowoCustomerContactCode>>
 <<AND EOWO.EOWO_CUSTOMER_CONTACT_Name LIKE :eowoCustomerContactName >>
 <<AND EOWO.EOWO_ORDER_TIME >=:eowoOrderTimeFrom>>
 <<AND EOWO.EOWO_ORDER_TIME <=:eowoOrderTimeTo>>
 <<AND EOWO.EOWO_SHIPPER_CODE LIKE :eowoShipperCode>>
 <<AND EOWO.EOWO_SHIPPER_NAME like :eowoShipperName >>
 <<AND EOWO.EOWO_SHIPPER_CONTACT_CODE LIKE :eowoShipperContactCode>>
 <<AND EOWO.EOWO_SHIPPER_CONTACT_Name like :eowoShipperContactName >>
 <<AND EOWO.EOWO_CONSIGNEE_CODE LIKE :eowoConsigneeCode>>
 <<AND EOWO.EOWO_CONSIGNEE_NAME like :eowoConsigneeName >>
 <<AND EOWO.EOWO_CONSIGNEE_CONTACT_CODE LIKE :eowoConsigneeContactCode>>
 <<AND EOWO.EOWO_CONSIGNEE_CONTACT_NAME like :eowoConsigneeContactName >>
 <<AND EOWO.EOWO_DO_NO like :eowoDoNo>>
 <<AND EOWO.EOWO_BARCODE like :eowoBarCode>>
 <<AND EOWO.EOWO_SHIPPER_REGION_CODE LIKE :eowoShipperRegionCode>>
 <<AND EOWO.EOWO_WAREHOUSER_CODE LIKE :eowoWarehouserCode>>
 <<AND EOWO.EOWO_STATION_CODE LIKE :eowoStationCode>>
 <<AND EOWO.EOWO_STATION_NAME like :eowoStationName >>
 <<AND EOWO.EOWO_TASK_BIG_TYPE LIKE :eowoTaskBigType >>
 <<AND EOWO.EOWO_TASK_BIG_TYPE IN (:eowoTaskBigTypes)>>
 <<AND EOWO.EOWO_VAMP_NO LIKE :eowoVampNo>>/*add by tom 20150805 增加集拼号查询条件*/
 <<AND EOWO.EOWO_WMS_NO LIKE :eowoWmsNo >>
 <<AND EOWO.EOWO_WMS_NO IN ( :eowoWmsNos) >>
 <<AND EOWO.EOOR_OVERDUE_REASON = :eoorOverdueReason >>
 <<AND EOWO.EOOR_OVERDUE_DESCRIPTION = :eoorOverdueDescription >>
 <<AND EOWO.EOWO_HEAVY_LIGHT_FLAG LIKE :eowoHeavyLightFlag >>
 <<AND EOWO.EOWO_UPPER_TASK_NO LIKE :eowoUpperTaskNo>>
 <<and EOWO.EOWO_DISPOSE_FLAG =:eowoDisposeFlag>>
 <<ANd EOWO.EOWO_CARRIERS_CODE =:eowoCarriersCode>>
 <<AND EOWO.EOWO_CAR_NO LIKE :eowoCarNo>>
 <#if isValidTask == '1'>
 	/*创建异常任务*/
    AND EOWO.EOWO_DISPOSE_FLAG != '20' 	
 </#if>
 <#if vampNoIsNull == 1>
   AND (EOWO.EOWO_VAMP_NO IS NOT NULL OR EOWO.EOWO_STATUS_CODE  LIKE '110') /*集拼号不为空，1=是，0=否,创建状态和冲销的，可以集拼号为空*/
   /* AND EOWO.EOWO_WORK_NO IS NOT NULL 任务号不为空，1=是，0=否*/
 </#if>
 <#if vampNoIsNull == 2>
   AND (EOWO.EOWO_VAMP_NO IS NOT NULL OR EOWO.EOWO_STATUS_CODE  LIKE '180') /*集拼号不为空，1=是，0=否,创建状态和冲销的，可以集拼号为空*/
   /* AND EOWO.EOWO_WORK_NO IS NOT NULL 任务号不为空，1=是，0=否*/
 </#if>
 <<AND EOWO.EOWO_ASSOCIATE_TASK_NO LIKE :eowoAssociateTaskNo>>
 <<AND EOWO.EOWO_IS_STARTING_TASK LIKE :eowoIsStartingTask>>
 <#if isConsigneeORShipperPwh == 1>
   AND EOWO.EOWO_CONSIGNEE_PWH_CODE IS NOT NULL
   AND EOWO.EOWO_CONSIGNEE_PWH_NAME IS NOT NULL
 </#if>
 <#if isConsigneeORShipperPwh == 2>
    AND EOWO.EOWO_SHIPPER_PWH_CODE  IS NOT NULL
    AND EOWO.EOWO_SHIPPER_PWH_NAME  IS NOT NULL
 </#if>
  <#if isOutAndTransportOut == 1>
 	/*出库任务、集拼号不为空的运输任务(含出库)*/
    AND (
    	 EOWO.EOWO_TASK_BIG_TYPE = 'OUT'
    	 OR 
    	 (EOWO.EOWO_TASK_BIG_TYPE = 'TRANSPORT_OUT' 
    	 	AND EOWO.EOWO_VAMP_NO IS NOT NULL 
    	 	AND EOWO.EOWO_IS_LATTER_SUBWAREHOUSE != 1
    	  )
    	)
 </#if>
 <#if eowoUpperTask == '-1'>
    AND EOWO.EOWO_UPPER_TASK_NO != '-1' 
 </#if>
 
 <#if packageQuantity == '1'>
	and EOWO.EOWO_PACKAGE_QUANTITY > 0
 </#if>
 <#if allocationIssued == '1'>
	 AND EOWO.EOWO_UPPER_ALLOCATION_NO  IS NOT NULL
 </#if>
 <#if isLatterSubwarehouse == '1'>
	 AND EOWO.EOWO_IS_LATTER_SUBWAREHOUSE = 1
 </#if>
 <#if isConsigneePwh == '1'>
	 AND (EOWO.EOWO_IS_ALREADY_IN_WH = 1 OR EOWO.EOWO_STATUS_CODE  LIKE '90')
 </#if>
 <#if isConsigneePwh == '0'>
	 AND (EOWO.EOWO_IS_ALREADY_OUT_WH = 1 OR EOWO.EOWO_STATUS_CODE  LIKE '90')
 </#if>
 <#if eowoIsAlreadyOutWh == 0>
	 AND (EOWO.EOWO_IS_ALREADY_OUT_WH is null or EOWO.EOWO_IS_ALREADY_OUT_WH != 1)
 </#if>
 <#if eowoIsAlreadyOutWh == 1>
	 AND (EOWO.EOWO_IS_ALREADY_OUT_WH is not null AND EOWO.EOWO_IS_ALREADY_OUT_WH = 1)
 </#if>
  <#if eowoIsAlreadyInWh == 0>
	 AND (EOWO.EOWO_IS_ALREADY_IN_WH is null or EOWO.EOWO_IS_ALREADY_IN_WH != 1)
 </#if>
 <#if eowoIsAlreadyInWh == 1>
	 AND (EOWO.EOWO_IS_ALREADY_IN_WH is not null AND EOWO.EOWO_IS_ALREADY_IN_WH = 1)
 </#if>
 <#if eowoIsNotCancel == '1'>
	 AND ((EOWO.EOWO_STATUS_CODE != '90' AND EOWO.EOWO_TASK_BIG_TYPE = 'IN')
	 OR (EOWO.EOWO_STATUS_CODE != '90' AND EOWO.EOWO_TASK_BIG_TYPE = 'OUT')
	 OR (EOWO.EOWO_STATUS_CODE != '110' AND EOWO.EOWO_TASK_BIG_TYPE = 'TRANSPORT')
	 OR (EOWO.EOWO_STATUS_CODE != '180' AND EOWO.EOWO_TASK_BIG_TYPE = 'TRANSPORT_OUT')
	 OR (EOWO.EOWO_STATUS_CODE != '50' AND EOWO.EOWO_TASK_BIG_TYPE = 'ADJUSTMENT'))
 </#if>
 <<AND EOWO.EOWO_UPPER_TASK_NO IN (:eowoUpperTaskNos)>>
 << AND EOWO.EOWO_INTERFACE_CREATE_TIME >= :eowoInterfaceCreateTimeFrom >>
 << AND EOWO.EOWO_INTERFACE_CREATE_TIME <= :eowoInterfaceCreateTimeTo+1 >>
 order by EOWO.MODIFY_TIME desc
		]]>
	</sql-query>
</hibernate-mapping>
