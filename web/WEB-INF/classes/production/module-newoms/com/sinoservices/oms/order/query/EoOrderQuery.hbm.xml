<?xml version="1.0"?>
<!DOCTYPE hibernate-mapping PUBLIC 
	"-//Hibernate/Hibernate Mapping DTD 3.0//EN"
	"http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">

<hibernate-mapping>
	<sql-query name="EoOrderQuery">
		<![CDATA[

SELECT 
		EOOR.EOOR_IS_C_ORDER,
       EOOR.EOOR_ID,
       EOOR.CREATOR,
       EOOR.CREATE_TIME,
       EOOR.MODIFIER,
       EOOR.MODIFY_TIME,
       EOOR.REC_VER,
       EOOR.EOOR_PENDING_REASON,
       EOOR.EOOR_IS_ALREADY_SPLIT_CAR,
       EOOR.EOOR_IS_ALREADY_IN_WH,
       EOOR.EOOR_IS_ALREADY_OUT_WH,
       EOOR.EOOR_UPSTREAM_CONFIRM_FLAG,
       EOOR.EOOR_UPSTREAM_SYS,
       EOOR.EOOR_FINANCE_NO,
       EOOR.EOOR_SHIPPER_LOCATION_ADDRESS,
       EOOR.EOOR_CONSIGNEE_LOCATION_ADDRE,
       EOOR.EOOR_SOURCE_CUSTOMER_CODE,
       EOOR.EOOR_SOURCE_CUSTOMER_NAME,
       
       EOOR.REC_STATUS,
       EOOR.ORG_ID,
       EOOR.EOOR_ORDER_NO,
       EOOR.EOOR_LOGISTIC_NO,
       EOOR.EOOR_ORDER_TYPE_CODE,
       EOOR.EOOR_ORDER_TYPE_NAME,
       EOOR.EOOR_PRIORITY_CODE,
       EOOR.EOOR_PRIORITY_NAME,
       EOOR.EOOR_TRANS_TYPE_CODE,
       EOOR.EOOR_TRANS_TYPE_NAME,
       EOOR.EOOR_STATUS_CODE,
       EOOR.EOOR_STATUS_NAME,
       EOOR.EOOR_DIVIDE_CODE,
       EOOR.EOOR_DIVIDE_NAME,
       EOOR.EOOR_ORDER_DEPARTMENT_CODE,
       EOOR.EOOR_ORDER_DEPARTMENT_NAME,
       EOOR.EOOR_OPERATE_DEPARTMENT_CODE,
       EOOR.EOOR_OPERATE_DEPARTMENT_NAME,
       EOOR.EOOR_BARCODE,
       EOOR.EOOR_SOURCE_CODE,
       EOOR.EOOR_SOURCE_NAME,
       EOOR.EOOR_REMARK,
       EOOR.EOOR_LINK_ORDER_NO,
       EOOR.EOOR_MEGER_FLAG,
       EOOR.EOOR_SALESMAN_CODE,
       EOOR.EOOR_SALESMAN_NAME,
       EOOR.EOOR_SPLIT_FLAG,
       EOOR.EOOR_EVENT_OBJECT_CODE,
       EOOR.EOOR_EVENT_OBJECT_NAME,
       EOOR.EOOR_EVENT_STATUS_CODE,
       EOOR.EOOR_STATUS_REMARK,
       EOOR.EOOR_CARRIER_CODE,
       EOOR.EOOR_CARRIER_NAME,
       EOOR.EOOR_PRODUCT_CODE,
       EOOR.EOOR_PRODUCT_NAME,
       EOOR.TIME_ZONE,
       EOOR.PM_CODE,
       EOOR.EOOR_CONSIGNEE_CONTACT_MOBILE,
       EOOR.EOOR_SHIPPER_CONTACT_MOBILE,
       EOOR.EOOR_SHIPPER_CONSIGNEE_CODE,
       EOOR.EOOR_SHIPPER_CONSIGNEE_NAME,
       EOOR.EOOR_SHIPPER_FWH_CODE,
       EOOR.EOOR_SHIPPER_FWH_NAME,
       EOOR.EOOR_SHIPPER_PWH_CODE,
       EOOR.EOOR_SHIPPER_PWH_NAME,
       EOOR.EOOR_CONSIGNEE_PROVINCE_CODE,
       EOOR.EOOR_CONSIGNEE_PROVINCE_NAME,
       EOOR.EOOR_CONSIGNEE_FWH_CODE,
       EOOR.EOOR_CONSIGNEE_FWH_NAME,
       EOOR.EOOR_CONSIGNEE_PWH_CODE,
       EOOR.EOOR_CONSIGNEE_PWH_NAME,
       EOOR.EOOR_BILLING_LINE_CODE,
       EOOR.EOOR_BILLING_LINE_NAME,
       EOOR.EOOR_MILEAGE,
       EOOR.EOOR_WRITE_STATUS,
       EOOR.EOOR_WRITE_TIME,
       EOOR.EOOR_COLLECTION_AMOUNT,
       EOOR.EOOR_SETTLEMENT_CUSTOMER_CODE,
       EOOR.EOOR_SETTLEMENT_CUSTOMER_NAME,
       EOOR.EOOR_CUSTOMER_TYPE,
       EOOR.EOOR_CASH_RECEIPT,
       EOOR.EOOR_ITEM_OWNER_CODE,
       EOOR.EOOR_ITEM_OWNER_NAME,
       EOOR.EOOR_INVOICE_OBJECT,
       EOOR.EOOR_PLEDGE_CHECK,
       EOOR.EOOR_IS_VAGUE,
       EOOR.EOOR_IS_QUALITY_CHECK,
       EOOR.EOOR_IS_SALE_PACKUP,
       EOOR.EOOR_IS_LTL,
       EOOR.EOOR_IS_CLOSED,
       EOOR.EOOR_IS_PROTOTYPE,
       EOOR.EOOR_IS_EXCEPTION,
       EOOR.EOOR_IS_TEMPERATURE,
       EOOR.EOOR_OFFSET_REASON,
       EOOR.COMPANY_CODE,
       EOOR.SITE_CODE,
       EOOR.COMPANY_NAME,
       EOOR.SITE_NAME,
       EOOR.EOOR_REQUIRE_CONSIGNEE_TIME,
       EOOR.EOOR_INVOICE_OBJECT_CODE,
       EOOR.EOOR_INVOICE_OBJECT_NAME,
       EOOR.EOOR_STEVEDORAGE_TYPE,
       EOOR.EOOR_IS_UPSTREAM_COST,
       EOOR.EOOR_IS_DOWNSTREAM_COST,
       EOOR.EOOR_CUSTOMER_ORDER_TYPE,
       EOOR.EOOR_PRODUCTION_ORGANIZATION,
       EOOR.EOOR_STOCK_REASON,
       EOOR.EOOR_IS_HYPERMARKET,
       EOOR.EOOR_SHIPPER_TOWN_CODE,
       EOOR.EOOR_SHIPPER_TOWN_NAME,
       EOOR.EOOR_SHIPPER_VILLAGE_CODE,
       EOOR.EOOR_SHIPPER_VILLAGE_NAME,
       EOOR.EOOR_CONSIGNEE_TOWN_CODE,
       EOOR.EOOR_CONSIGNEE_TOWN_NAME,
       EOOR.EOOR_CONSIGNEE_VILLAGE_CODE,
       EOOR.EOOR_CONSIGNEE_VILLAGE_NAME,
       EOOR.EOOR_LINE_CODE,
       EOOR.EOOR_LINE_NAME,
       EOOR.EOOR_DRIVER_CODE,
       EOOR.EOOR_DRIVER_NAME,
       EOOR.EOOR_CAR_NO,
       EOOR.EOOR_ORIGINAL_NO,
       EOOR.EOOR_PIER,
       EOOR.EOOR_CUSTOMS_OFF_DATE,
       EOOR.EOOR_CUSTOMS_PORT,
       EOOR.EOOR_LOAD_CONTAINER_TYPE,
       EOOR.EOOR_PLAN_CONTAINER_NO,
       EOOR.EOOR_MARK,
       EOOR.EOOR_LCL_NO,
       EOOR.EOOR_IS_INSPECTION,
       EOOR.EOOR_SETTLEMENT_OBJECT_CODE,
       EOOR.EOOR_SETTLEMENT_OBJECT_NAME,
       EOOR.EOOR_IS_COLLECTION_PAYM,
       EOOR.EOOR_OLD_ORDER_NO,
       EOOR.EOOR_OLD_LOGISTIC_NO,
       EOOR.EOOR_RETURN_APPLICATION_NO,
       EOOR.EOOR_BACK_REASON,
       EOOR.EOOR_EXECUTE_TIME,
       EOOR.EOOR_PART_INVALID,
       EOOR.EOOR_INTERCEPTION_REASON,
       EOOR.EOOR_LING_LOGISTIC_NO,
       EOOR.EOOR_SOURCE_NO,
       EOOR.EOOR_ORDER_BIG_TYPE,
       EOOR.EOOR_REQ_BACK_DATE,
       EOOR.EOOR_REQ_ARRIVAL_CAR_DATE,
       EOOR.EOOR_LTL_FLAG,
       EOOR.EOOR_BUSINESS_TYPE,
       EOOR.EOOR_IS_RESERVATION,
       NVL(EOOR.EOOR_ISSUED_QUANTITY,0) AS EOOR_ISSUED_QUANTITY,
       EOOR.EOOR_ISSUED_VOLUME,
       EOOR.EOOR_ISSUED_GROSS_WEIGHT,
       NVL(EOOR.EOOR_SHIPPING_QUANTITY,0) AS EOOR_SHIPPING_QUANTITY ,
       EOOR.EOOR_SHIPPING_VOLUME,
       EOOR.EOOR_SHIPPING_GROSS_WEIGHT,
       NVL(EOOR.EOOR_UNDO_QUANTITY,0) AS EOOR_UNDO_QUANTITY,
       EOOR.EOOR_UNDO_VOLUME,
       EOOR.EOOR_SALES_CENTER_CODE,
       EOOR.EOOR_SALES_CENTER_NAME,
       EOOR.EOOR_IS_ALREADY_RESERVED,
       EOOR.EOOR_RESERVED_STATUS,
       EOOR.EOOR_PIER_CODE,
       EOOR.EOOR_CUSTOMS_PORT_CODE,
       EOOR.EOOR_IS_SPLIT_CAR,
       EOOR.EOOR_IS_IN_WH,
       EOOR.EOOR_IS_OUT_WH,
       EOOR.EOOR_IS_JOINT,
       CASE WHEN EOOR.EOOR_IS_SALE_PACKUP = 1 
       THEN 
          0
         ELSE
          (NVL(EOOR.EOOR_QUANTITY,0) - NVL(EOOR.EOOR_SHIPPING_QUANTITY, 0) - NVL(EOOR.EOOR_UNDO_QUANTITY, 0)) /*剩余发运数量*/
       END EOOR_SURPLUS_SHIPPING_QUANTITY,
       
       CASE WHEN EOOR.EOOR_IS_SALE_PACKUP = 1 OR (CASE WHEN EOOR.EOOR_IS_SALE_PACKUP = 1 THEN 0 ELSE
          (NVL(EOOR.EOOR_QUANTITY,0) - NVL(EOOR.EOOR_SHIPPING_QUANTITY, 0) - NVL(EOOR.EOOR_UNDO_QUANTITY, 0)) END) = 0  /*如果剩余发运数量为0，则剩余发运体积也为0*/
       THEN
          0
         ELSE
          (NVL(EOOR.EOOR_VOLUME,0) - NVL(EOOR.EOOR_SHIPPING_VOLUME, 0) - NVL(EOOR.EOOR_UNDO_VOLUME, 0)) /*剩余发运体积*/
       END EOOR_SURPLUS_SHIPPING_VOLUME,
       EOOR.EOOR_UNDO_GROSS_WEIGHT,
       
       EOOR.EOOR_CUSTOMER_CODE,
       EOOR.EOOR_CUSTOMER_NAME,
       EOOR.EOOR_CUSTOMER_CONTACT_CODE,
       EOOR.EOOR_CUSTOMER_CONTACT_NAME,
       EOOR.EOOR_CUSTOMER_CONTACT_PHONE,
       EOOR.EOOR_ORDER_TIME,
       EOOR.EOOR_REQUIRE_SHIPPER_TIME_FM,
       EOOR.EOOR_REQUIRE_SHIPPER_TIME_TO,
       EOOR.EOOR_REQUIRE_CONSIGNEE_TIME_FM,
       EOOR.EOOR_REQUIRE_CONSIGNEE_TIME_TO,
       EOOR.EOOR_SHIPPER_CODE,
       EOOR.EOOR_SHIPPER_NAME,
       EOOR.EOOR_SHIPPER_CONTACT_CODE,
       EOOR.EOOR_SHIPPER_CONTACT_NAME,
       EOOR.EOOR_SHIPPER_CONTACT_PHONE,
       EOOR.EOOR_SHIPPER_LOCATION_CODE,
       EOOR.EOOR_SHIPPER_LOCATION_NAME,
       EOOR.EOOR_SHIPPER_REGION_CODE,
       EOOR.EOOR_SHIPPER_REGION_NAME,
       EOOR.EOOR_SHIPPER_CITY_CODE,
       EOOR.EOOR_SHIPPER_CITY_NAME,
       EOOR.EOOR_SHIPPER_DISTRICT_CODE,
       EOOR.EOOR_SHIPPER_DISTRICT_NAME,
       EOOR.EOOR_CONSIGNEE_CODE,
       EOOR.EOOR_CONSIGNEE_NAME,
       EOOR.EOOR_CONSIGNEE_CONTACT_CODE,
       EOOR.EOOR_CONSIGNEE_CONTACT_NAME,
       EOOR.EOOR_CONSIGNEE_CONTACT_PHONE,
       EOOR.EOOR_CONSIGNEE_LOCATION_CODE,
       EOOR.EOOR_CONSIGNEE_LOCATION_NAME,
       EOOR.EOOR_CONSIGNEE_REGION_CODE,
       EOOR.EOOR_CONSIGNEE_REGION_NAME,
       EOOR.EOOR_CONSIGNEE_CITY_CODE,
       EOOR.EOOR_CONSIGNEE_CITY_NAME,
       EOOR.EOOR_CONSIGNEE_DISTRICT_CODE,
       EOOR.EOOR_CONSIGNEE_DISTRICT_NAME,
       EOOR.EOOR_PO_NO,
       EOOR.EOOR_SO_NO,
       EOOR.EOOR_DO_NO,
       NVL(EOOR.EOOR_PACKAGE_QUANTITY,0) AS EOOR_PACKAGE_QUANTITY ,
       NVL(EOOR.EOOR_QUANTITY,0) AS EOOR_QUANTITY,
       ROUND(NVL(EOOR.EOOR_GROSS_WEIGHT,0),2) AS EOOR_GROSS_WEIGHT ,
       EOOR.EOOR_NET_WEIGHT,
       ROUND(NVL(EOOR.EOOR_VOLUME,0),6) AS EOOR_VOLUME,
       EOOR.EOOR_REQUIREMENT,
       EOOR.EOOR_EXPIRATION_TIME,
       EOOR.EOOR_RESERVATION,
       EOOR.EOOR_EMERGENT_FLAG,
       EOOR.EOOR_PAYMENT_TYPE_CODE,
       EOOR.EOOR_PAYMENT_TYPE_NAME,
       EOOR.EOOR_WAREHOUSER_CODE,
       EOOR.EOOR_WAREHOUSER_NAME,
       EOOR.EOOR_STATION_CODE,
       EOOR.EOOR_STATION_NAME,
       EOOR.EOOR_EDITABLE,
       EOOR.EOOR_AMOUNT,
       EOOR.EOOR_SELLING_CUSTOMER_CODE,
       EOOR.EOOR_SELLING_CUSTOMER_NAME,
       EOOR.EOOR_EOSM_PM_CODE,
       EOOR.EOOR_EOSM_NAME,
       EOOR.EOOR_PACKAGE_QUANTITY_ACTUAL,
       EOOR.EOOR_QUANTITY_ACTUAL,
       EOOR.EOOR_GROSS_WEIGHT_ACTUAL,
       EOOR.EOOR_NET_WEIGHT_ACTUAL,
       EOOR.EOOR_VOLUME_ACTUAL,
       EOOR.EOOR_AMOUNT_ACTUAL,
       EOOr.EOOR_SOURCE_FWH_CODE,
       EOOR.EOOR_SOURCE_FWH_NAME,
       EOOR.EOOR_WMS_NO,
       EOOR.EOOR_HEAVY_LIGHT_FLAG,
       
       EOOR.EOOR_SOURCE_SYS,
       EOOR.EOOR_CONTRACT_NO,
       EOOR.TMS_SITE_CODE,
       EOOR.TMS_SITE_NAME,
       EOOR.WMS_SITE_CODE,
       EOOR.WMS_SITE_NAME,
       EOOR.EOOR_PRODUCTION_ORG_NAME,
       EOOR.EOOR_ORIGINAL_FWH_CODE,
       EOOR.EOOR_ORIGINAL_FWH_NAME,
       EOOR.EOOR_AIM_FWH_CODE,
       EOOR.EOOR_AIM_FWH_NAME,
       EOOR.EOOR_CUSTOMER_ORDER_TYPE_NAME,
       EOOR.EOOR_PLAN_ARRIVAL_DATE,
       EOOR.EOOR_IS_ADVANCE_CONFIRM,
       EOOR.EOOR_IS_PICKING_RESERVATION,
       EOOR.EOOR_PICKING_RESERVATION_DATE,
       EOOR.EOOR_PICKING_RESERVATION_FLAG,
       EOOR.EOOR_IS_DELIVERY_RESERVATION,
       EOOR.EOOR_DELIVERY_RESERVATION_DATE,
       EOOR.EOOR_DELIVERY_RESERVATION_FLAG,
       EOOR.EOOR_IS_EDI,
       EOOR.EOOR_IS_PRINT_NO_TAX_PRICE,
       EOOR.EOOR_IS_PRINT_TAX_PRICE,
       EOOR.EOOR_CANNIBALIZING_NO,
       EOOR.EOOR_VIRTUAL_CUSTOMER_CODE,
       EOOR.EOOR_VIRTUAL_CUSTOMER_NAME,
       EOOR.EOOR_ASSOCIATE_TASK_NO,
       EOOR.EOOR_IS_NOT_AFFIRM,
       EOOR.EOOR_REASON_TYPE,
       
       
       EOOR.EOOR_IS_LATTER_SUBWAREHOUSE,
       EOOR.EOOR_PICKING_RESERVATION_NO,
       EOOR.EOOR_DELIVERY_RESERVATION_NO,
       EOOR.EOOR_VERIFICATION_FLAG,
       EOOR.EOOR_PRODUCING_AREA_CODE,
       EOOR.EOOR_PRODUCING_AREA_NAME,
       EOOR.EOOR_SUPPLIER_CODE,
       EOOR.EOOR_SUPPLIER_NAME,
       EOOR.EOOR_WORKSHOP_CODE,
       EOOR.EOOR_IS_ALREADY_JOINT,
       EOOR.EOOR_SOURCE_INV_ORG_ID,
       EOOR.EOOR_SOURCE_INV_ORG_NAME,
       EOOR.EOOR_TARGET_INV_ORG_ID,
       EOOR.EOOR_TARGET_INV_ORG_NAME,
       EOOR.EOOR_DISPOSE_FLAG,
       EOOR.EOOR_UPSTREAM_DETAIL_ADDRESS,
       EOOR.EOOR_CONFIRM_TIME,
       NVL(EOOR.EOOR_SUBSTR1,0) AS EOOR_SUBSTR1,
       EOOR.EOOR_SUBSTR2,
       EOOR.EOOR_SUBSTR3,
       EOOR.EOOR_SUBSTR4,
       EOOR.EOOR_SUBSTR5,
       EOOR.EOOR_SUBSTR6,
       EOOR.EOOR_SUBSTR7,
       EOOR.EOOR_SUBSTR8,
       EOOR.EOOR_SUBDATE1,
       EOOR.EOOR_SUBDATE2,
       EOOR.EOOR_SUBDATE3,
       EOOR.EOOR_SUBDATE4,
       EOOR.EOOR_OVERDUE_REASON,
       EOOR.EOOR_OVERDUE_DESCRIPTION,
       EOOR.EOOR_SUBNUM1,
       EOOR.EOOR_SUBNUM2,
       EOOR.EOOR_SUBNUM3,
       EOOR.EOOR_SUBNUM4,
       NVL(EOOR.EOOR_IS_ARRIVAL_PAID,0) AS EOOR_IS_ARRIVAL_PAID,
       EOOR.EOOR_ARRIVAL_AMOUNT,
       EOOR.EOOR_INTERFACE_CREATE_TIME,
       EOOR.EOOR_CONSIGNEE_SHOP_NAME,
       EOOR.EOOR_SHIP_SHOP_NAME,
       EOOR.EOOR_UPSTREAM_SPECIMEN_TYPE,
       EOOR.EOOR_UPSTREAM_DOC_TYPE,
       EOOR.EOOR_PICK_UP_PERSON,
       EOOR.EOOR_PICK_UP_THE_PHONE,
       EOOR.EOOR_UPSTREAM_CARRIER_CODE,
       EOOR.EOOR_UPSTREAM_CARRIER_CN,
       EOOR.EOOR_FACTORY_NAME,
       EOOR.EOOR_PRODUCT_LINE,
       
       ESUS.ESUS_LOGIN_NAME,
       ESUS.ESUS_USER_NAME_CN,
       ESUS.ESUS_USER_NAME_EN,
       
       ESUSM.ESUS_USER_NAME_CN AS ESUS_USER_NAME_CNM,
       ESUSM.ESUS_USER_NAME_EN AS ESUS_USER_NAME_ENM,
	   'N' as EMERGENT_MARK,
	   
	   CASE
         WHEN EOOR.EOOR_ORDER_BIG_TYPE IN ('IN','STOCK') 
         THEN
          (NVL((SELECT SUM(EOWO.EOWO_PACKAGE_QUANTITY) 
          		FROM EO_WORK_ORDER EOWO 
          		WHERE EOWO.EOWO_ORDER_NO = EOOR.EOOR_ORDER_NO AND EOWO.EOWO_UPPER_TASK_NO = '-1'), 0))
         ELSE
          0
       END EOOR_WARE_HOUSE_STORAGE,
       
       
       CASE
         WHEN EOOR.EOOR_ORDER_BIG_TYPE IN ('OUT','STOCK') 
         THEN
          	(EOOR.EOOR_QUANTITY-EOOR.EOOR_UNDO_QUANTITY
          	-NVL((SELECT SUM(EOWO.EOWO_PACKAGE_QUANTITY)
              FROM EO_WORK_ORDER EOWO
             WHERE EOWO.EOWO_TASK_BIG_TYPE IN ('OUT','TRANSPORT_OUT')
               AND EOWO.EOWO_IS_ALREADY_OUT_WH = 1
               AND EOWO.EOWO_ORDER_NO = EOOR.EOOR_ORDER_NO
               AND EOWO.EOWO_UPPER_TASK_NO != '-1'
               AND EOWO.EOWO_PACKAGE_QUANTITY > 0),0))
         ELSE 
         	0
       END EOOR_WARE_HOUSE_NUMBER,
       
       CASE
         WHEN EOOR.EOOR_ORDER_BIG_TYPE  = 'ADJUSTMENT'
         THEN
          	(EOOR.EOOR_QUANTITY - EOOR.EOOR_UNDO_QUANTITY
          	-NVL((SELECT SUM(EOWO.EOWO_PACKAGE_QUANTITY)
              FROM EO_WORK_ORDER EOWO
             WHERE EOWO.EOWO_TASK_BIG_TYPE = 'ADJUSTMENT'
               AND EOWO.EOWO_ORDER_NO = EOOR.EOOR_ORDER_NO
               AND EOWO.EOWO_UPPER_TASK_NO != '-1'
               AND EOWO.EOWO_PACKAGE_QUANTITY > 0),0))
         ELSE 
         	0
       END EOOR_WARE_HOUSE_ADJUSTMENT,
       
      CASE
         WHEN EOOR.EOOR_ORDER_BIG_TYPE IN ('OUT','STOCK') 
         THEN
            NVL((SELECT SUM(EOWI_REAL_OUT_QUANTITY) FROM (SELECT CASE WHEN EOWO.EOWO_TASK_BIG_TYPE='TRANSPORT_OUT' AND (EOWO.EOWO_STATUS_CODE BETWEEN '110' AND '160') THEN
       SUM(EOWI.Eowi_Package_Quantity)
       WHEN EOWO.EOWO_TASK_BIG_TYPE='OUT' AND EOWO.EOWO_STATUS_CODE = '99' THEN
       SUM(EOWI.Eowi_Package_Quantity) END EOWI_REAL_OUT_QUANTITY,EOWO_ORDER_NO
              FROM EO_WORK_ORDER EOWO
              INNER JOIN EO_WORK_ITEM EOWI
              ON EOWO.EOWO_WORK_ORDER_NO = EOWI.EOWI_WORK_ORDER_NO
             GROUP BY EOWI.Eowi_Package_Quantity,
                      EOWO.EOWO_TASK_BIG_TYPE,
                      EOWO.EOWO_STATUS_CODE,
                      EOWO_ORDER_NO) where EOWO_ORDER_NO = EOOR.EOOR_ORDER_NO),0)
          ELSE
            0
       END EOOR_REAL_OUT_QUANTITY,
       
      CASE
         WHEN EOOR.EOOR_ORDER_BIG_TYPE IN ('IN','STOCK') 
         THEN
          NVL((SELECT SUM(EOWI.EOWI_REAL_IN_QUANTITY)
              FROM EO_WORK_ORDER EOWO
              INNER JOIN EO_WORK_ITEM EOWI
              ON EOWO.EOWO_WORK_ORDER_NO = EOWI.EOWI_WORK_ORDER_NO
             WHERE EOWO.EOWO_ORDER_NO = EOOR.EOOR_ORDER_NO and EOWO.EOWO_WORK_TYPE_CODE='IN' and EOWO.EOWO_UPPER_TASK_NO!='-1'),0)
         ELSE
           0
       END EOOR_REAL_IN_QUANTITY,
       EBCU.EBCU_CUSTOMER_GROUP_NAME,
       EOOR.EOOR_DISTRIBUTION_WH1,
       elp1.EBRP_NAME AS EOOR_DISTRIBUTION_WH1_NAME,
       EOOR.EOOR_DISTRIBUTION_WH2,
       elp2.EBRP_NAME AS EOOR_DISTRIBUTION_WH2_NAME,
       EOOR.EOOR_WH1_COMPANY_CODE,
       EC1.ESCO_COMPANY_NAME_CN AS EOOR_WH1_COMPANY_NAME,
       EOOR.EOOR_WH2_COMPANY_CODE,
       EC2.ESCO_COMPANY_NAME_CN AS EOOR_WH2_COMPANY_NAME,
       EOOR.EOOR_POINT_COMPANY_CODE,
       EC3.ESCO_COMPANY_NAME_CN AS EOOR_POINT_COMPANY_NAME,
       EOOR.EOOR_IS_PRICE,
       EOOR.EOOR_PRICE,
       EOOR.EOOR_MAIN_LINE_CARRIER,
       EBSU1.EBSP_NAME_CN AS EOOR_MAIN_LINE_CARRIER_NAME,
       EOOR.EOOR_BRANCH_LINE_CARRIER,
       EBSU2.EBSP_NAME_CN AS EOOR_BRANCH_LINE_CARRIER_NAME,
       EOOR.EOOR_POINT,
       elp3.EBRP_NAME as EOOR_POINT_NAME,
       EBSU3.EBSP_NAME_CN AS EOOR_POINT_SUPPLIER_NAME,
       EOOR.EOOR_POINT_SUPPLIER,
       EOOR.EOOR_SHIPPER_LONGITUDE,
       EOOR.EOOR_SHIPPER_LATITUDE,
       EOOR.EOOR_CONSIGNEE_LONGITUDE,
       EOOR.EOOR_CONSIGNEE_LATITUDE,
       EOOR.SHIPPER_CONSIGNEE_DISTANCE,
       EOOR.EOOR_IS_FINAL_PRICE,
		EOOR.EOOR_SHIPPER_STATION_CODE,
		EOOR.EOOR_CONSIGNEE_STATION_CODE,
		EOOR.EOOR_SHIPPER_STATION_NAME,
		EOOR.EOOR_CONSIGNEE_STATION_NAME,
		EOOR.EOOR_DIRECTION,
		EOOR.EOOR_STATION_UNLOAD_COUNT,
		EOOR.EOOR_CAR_MODEL,
		EOOR.EOOR_CUSTOMIZE_SHIPPER_AREA,
		EOOR.EOOR_CUSTOMIZE_CONSIGNEE_AREA,
		EOOR.EOOR_COST_AMOUNT
 FROM EO_ORDER EOOR 
 <if is_not_empty(eooiCode) || is_not_empty(eooiName) || is_not_empty(eooiLotNo) || is_not_empty(eooiRemark) || is_not_empty(eooiTemperatureLevelCode) || is_not_empty(eooiTemperatureLevelName)>
  LEFT JOIN (SELECT EOOI.EOOI_ORDER_NO AS EOOI_ORDER_NO,EOOI.ORG_ID AS ORG_ID, COUNT(*) AS EOOI_COUNT FROM EO_ORDER_ITEM EOOI WHERE EOOI.REC_STATUS=0
  << AND EOOI.EOOI_CODE LIKE :eooiCode >>
  << AND EOOI.EOOI_NAME like :eooiName >>
  << AND EOOI.EOOI_LOT_NO like :eooiLotNo >>
  << AND EOOI.EOOI_REMARK LIKE :eooiRemark >>
  << AND EOOI.EOOI_TEMPERATURE_LEVEL_CODE LIKE :eooiTemperatureLevelCode >>
  << AND EOOI.EOOI_TEMPERATURE_LEVEL_NAME LIKE :eooiTemperatureLevelName >>
  << AND EOOI.EOOI_ORDER_NO LIKE :eoorOrderNo >>
  << AND EOOI.EOOI_ORDER_NO IN (:eoorNos)>>
  << AND EOOI.ORG_ID=:orgId >>
  GROUP BY EOOI.EOOI_ORDER_NO,EOOI.ORG_ID
  ) EOOI ON EOOR.EOOR_ORDER_NO=EOOI.EOOI_ORDER_NO AND EOOR.ORG_ID=EOOI.ORG_ID
 </if>
 LEFT JOIN ES_USER ESUS ON EOOR.CREATOR=ESUS.ESUS_ID 
 << AND ESUS.ESUS_LOGIN_NAME=:esusLoginName >>
 LEFT JOIN ES_USER ESUSM ON EOOR.MODIFIER=ESUSM.ESUS_ID
left join L_MASTER.EB_CUSTOMER EBCU  on EBCU.EBCU_CUSTOMER_NO = EOOR.EOOR_CUSTOMER_CODE
left join EB_LOGISTICS_POINT elp1 on elp1.EBRP_CODE = EOOR.EOOR_DISTRIBUTION_WH1
left join EB_LOGISTICS_POINT elp2 on elp2.EBRP_CODE = EOOR.EOOR_DISTRIBUTION_WH2
LEFT JOIN ES_COMPANY EC1 ON EC1.ESCO_COMPANY_NO = EOOR.EOOR_WH1_COMPANY_CODE 
LEFT JOIN ES_COMPANY EC2 ON EC2.ESCO_COMPANY_NO = EOOR.EOOR_WH2_COMPANY_CODE
LEFT JOIN ES_COMPANY EC3 ON EC3.ESCO_COMPANY_NO = EOOR.EOOR_POINT_COMPANY_CODE
LEFT JOIN EB_SUPPLIER EBSU1 ON EBSU1.EBSP_SUPPLIERS_CODE = EOOR.EOOR_MAIN_LINE_CARRIER
LEFT JOIN EB_SUPPLIER EBSU2 ON EBSU2.EBSP_SUPPLIERS_CODE = EOOR.EOOR_BRANCH_LINE_CARRIER
LEFT JOIN EB_LOGISTICS_POINT elp3 ON elp3.EBRP_CODE = EOOR.EOOR_POINT
LEFT JOIN EB_SUPPLIER EBSU3 ON EBSU3.EBSP_SUPPLIERS_CODE = EOOR.EOOR_POINT_SUPPLIER
 WHERE 1 = 1
 <if dataAuthority != 'N'>
  AND <@dataFilter Table="EO_ORDER" fiEld= "COMPANY_CODE" aLias="EOOR" />
  AND 
(
<@dataFilter tAble="EO_ORDER" fiEld= "SITE_CODE" aLias="EOOR" />
OR
<@dataFilter tAble="EO_ORDER" fiEld= "TMS_SITE_CODE" aLias="EOOR" />
)
   AND <@dataFilter Table="EO_ORDER" fiEld= "EOOR_CUSTOMER_CODE" aLias="EOOR" />
 </if>
   AND EOOR.REC_STATUS = 0
<< AND EOOR.EOOR_IS_ALREADY_SPLIT_CAR LIKE :eoorIsAlreadySplitCar >>

<< AND EOOR.EOOR_IS_ALREADY_IN_WH LIKE :eoorIsAlreadyInWh >>
<< AND EOOR.EOOR_IS_ALREADY_OUT_WH LIKE :eoorIsAlreadyOutWh >>
<< AND EOOR.EOOR_UPSTREAM_CONFIRM_FLAG LIKE :eoorUpstreamConfirmFlag >>
<< AND EOOR.EOOR_ORDER_NO IN 
(SELECT EORR.EOAP_ORDER_NO FROM EO_ORDER_RESERVATION EORR WHERE EORR.EOAP_ORDER_NO = EOOR.EOOR_ORDER_NO 
 	AND EOAP_STATUS = :eoapStatus ) >>
<< AND EOOR.CREATE_TIME >= :createTimeFrom >>
<< AND EOOR.CREATE_TIME <= :createTimeTo+1>>
<< AND EOOR.EOOR_REQUIRE_SHIPPER_TIME_FM >= :eoorRequireShipperTimeFmFrom >>
<< AND EOOR.EOOR_REQUIRE_SHIPPER_TIME_FM <= :eoorRequireShipperTimeFmTo+1  >>
<< AND EOOR.EOOR_REQUIRE_CONSIGNEE_TIME >= :eoorRequireConsigneeTimeFmFrom >>
<< AND EOOR.EOOR_REQUIRE_CONSIGNEE_TIME <= :eoorRequireConsigneeTimeFmTo+1  >>
<< AND EOOR.ORG_ID =:orgId >>
<< AND EOOR.EOOR_ID =:eoorId >>
<< AND EOOR.EOOR_ID IN (:eoorIds) >>
<< AND EOOR.EOOR_ORDER_NO LIKE :eoorOrderNo >>
<< AND EOOR.EOOR_LOGISTIC_NO LIKE :eoorLogisticNo >>
<< AND EOOR.EOOR_LOGISTIC_NO in (:eoorLogisticNos) >>
<< AND EOOR.EOOR_REMARK LIKE :eoorRemark >>
<< AND EOOR.EOOR_ORDER_TYPE_CODE LIKE :eoorOrderTypeCode >>
<< AND EOOR.EOOR_ORDER_TYPE_NAME like :eoorOrderTypeName >>
<< AND EOOR.EOOR_PRIORITY_CODE LIKE :eoorPriority >>
<< AND EOOR.EOOR_PRIORITY_CODE LIKE :eoorPriorityCode >>
<< AND EOOR.EOOR_TRANS_TYPE_CODE LIKE :eoorTransTypeCode >>
<< AND EOOR.EOOR_STATUS_CODE LIKE :eoorStatusCode >>
<< AND EOOR.EOOR_STATUS_CODE NOT IN  (:eoorStatusCodes) >>
<< AND EOOR.EOOR_STATUS_CODE IN  (:eoorStatusCodess) >>
<< AND EOOR.EOOR_STATUS_Name like :eoorStatusName >>
<< AND EOOR.EOOR_SOURCE_CODE LIKE :eoorSourceCode >>
<< AND EOOR.EOOR_ORDER_DEPARTMENT_CODE LIKE :eoorOrderDepartmentCode >>
<< AND EOOR.EOOR_ORDER_DEPARTMENT_NAME like :eoorOrderDepartmentName >>
<< AND EOOR.EOOR_OPERATE_DEPARTMENT_CODE LIKE :eoorOperateDepartmentCode >>
<< AND EOOR.EOOR_OPERATE_DEPARTMENT_NAME like :eoorOperateDepartmentName >>
<< AND EOOR.EOOR_DIVIDE_CODE LIKE :eoorDivideCode >>
<< AND EOOR.EOOR_DIVIDE_NAME like :eoorDivideName >>
<< AND EOOR.EOOR_BARCODE LIKE :eoorBarcode >>
<< AND EOOR.EOOR_IS_ALREADY_JOINT = :eoorIsAlreadyJoint >>

<< AND EOOR.EOOR_SO_NO LIKE :eoorSoNo >>
<< AND EOOR.EOOR_DO_NO LIKE :eoorDoNo >>
<< AND EOOR.EOOR_PO_NO LIKE :eoorPoNo >>
<< AND EOOR.EOOR_REQUIREMENT LIKE :eoorRequirement >>
<< AND EOOR.EOOR_CUSTOMER_CODE LIKE :eoorCustomerCode >>
<< AND EOOR.EOOR_CUSTOMER_CODE IN (:eoorCustomerCodes) >>
<< AND EOOR.EOOR_CUSTOMER_NAME like :eoorCustomerName >>
<< AND EOOR.EOOR_CUSTOMER_CONTACT_CODE LIKE :eoorCustomerContactCode >>
<< AND EOOR.EOOR_CUSTOMER_CONTACT_NAME like :eoorCustomerContactName >>
<< AND EOOR.EOOR_CUSTOMER_CONTACT_PHONE LIKE :eoorCustomerContactPhone >>
<< AND EOOR.EOOR_SELLING_CUSTOMER_CODE LIKE :eoorSellingCustomerCode>>
<< AND EOOR.EOOR_SELLING_CUSTOMER_NAME LIKE :eoorSellingCustomerName>>
<< AND EOOR.EOOR_ORDER_TIME >= :eoorOrderTimeFrom >>
<< AND EOOR.EOOR_ORDER_TIME <= :eoorOrderTimeTo+1 >>

<< AND EOOR.EOOR_EXECUTE_TIME >= :eoorExecuteTimeFrom >>
<< AND EOOR.EOOR_EXECUTE_TIME <= :eoorExecuteTimeTo+1 >>

<< AND EOOR.EOOR_REQUIRE_SHIPPER_TIME_TO >= :eoorRequireShipperTimeFrom >>
<< AND EOOR.EOOR_REQUIRE_SHIPPER_TIME_FM <= :eoorRequireShipperTimeTo+1 >>
<< AND EOOR.EOOR_REQUIRE_SHIPPER_TIME_FM >= :requireShipperTimeFm>>
<< AND EOOR.EOOR_REQUIRE_SHIPPER_TIME_FM <= :requireShipperTimeTo>>
<< AND EOOR.EOOR_REQUIRE_SHIPPER_TIME_TO >= :requireShipperTimeFm2 >>
<< AND EOOR.EOOR_REQUIRE_SHIPPER_TIME_TO <= :requireShipperTimeTo2 >>
<< AND EOOR.EOOR_REQUIRE_CONSIGNEE_TIME_TO >= :eoorRequireConsigneeTimeFrom >>
<< AND EOOR.EOOR_REQUIRE_CONSIGNEE_TIME_FM <= :eoorRequireConsigneeTimeTo+1 >>
<< AND EOOR.EOOR_REQUIRE_CONSIGNEE_TIME_FM >= :requireConsigneeTimeFm >>
<< AND EOOR.EOOR_REQUIRE_CONSIGNEE_TIME_FM <= :requireConsigneeTimeTo >>
<< AND EOOR.EOOR_REQUIRE_CONSIGNEE_TIME_TO >= :requireConsigneeTimeFm2 >>
<< AND EOOR.EOOR_REQUIRE_CONSIGNEE_TIME_TO <= :requireConsigneeTimeTo2 >>
<< AND EOOR.EOOR_SHIPPER_CODE LIKE :eoorShipperCode >>
<< AND EOOR.EOOR_SHIPPER_NAME like :eoorShipperName >>
<< AND EOOR.EOOR_SHIPPER_CONTACT_CODE LIKE :eoorShipperContactCode >>
<< AND EOOR.EOOR_SHIPPER_CONTACT_NAME like :eoorShipperContactName >>
<< AND EOOR.EOOR_SHIPPER_CONTACT_PHONE LIKE :eoorShipperContactPhone >>
<< AND EOOR.EOOR_SHIPPER_LOCATION_CODE LIKE :eoorShipperLocationCode >>
<< AND EOOR.EOOR_SHIPPER_LOCATION_NAME like :eoorShipperLocationName >>
<< AND EOOR.EOOR_SHIPPER_REGION_CODE LIKE :eoorShipperRegionCode >>
<< AND EOOR.EOOR_SHIPPER_REGION_NAME like :eoorShipperRegionName >>
<< AND EOOR.EOOR_CONSIGNEE_CODE LIKE :eoorConsigneeCode >>
<< AND EOOR.EOOR_CONSIGNEE_NAME like :eoorConsigneeName >>
<< AND EOOR.EOOR_CONSIGNEE_CONTACT_CODE LIKE :eoorConsigneeContactCode >>
<< AND EOOR.EOOR_CONSIGNEE_CONTACT_NAME like :eoorConsigneeContactName >>
<< AND EOOR.EOOR_CONSIGNEE_CONTACT_PHONE LIKE :eoorConsigneeContactPhone >>
<< AND EOOR.EOOR_CONSIGNEE_LOCATION_CODE LIKE :eoorConsigneeLocationCode >>
<< AND EOOR.EOOR_CONSIGNEE_LOCATION_NAME like :eoorConsigneeLocationName >>
<< AND EOOR.EOOR_CONSIGNEE_REGION_CODE LIKE :eoorConsigneeRegionCode >>
<< AND EOOR.EOOR_CONSIGNEE_REGION_NAME like :eoorConsigneeRegionName >>
<< AND EOOR.EOOR_EXPIRATION_TIME>=:eoorExpirationTimeFrom>>
<< AND EOOR.EOOR_EXPIRATION_TIME<=:eoorExpirationTimeTo>>
<< AND EOOR.EOOR_RESERVATION like :eoorReservation >>
<< AND EOOR.EOOR_EMERGENT_FLAG like :eoorEmergentFlag >>
<< AND EOOR.EOOR_PAYMENT_TYPE_CODE LIKE :eoorPaymentTypeCode >>
<< AND EOOR.EOOR_PAYMENT_TYPE_NAME LIKE :eoorPaymentTypeName >>
<< AND EOOR.EOOR_WAREHOUSER_CODE LIKE :eoorWarehouserCode>>
<< AND EOOR.EOOR_WAREHOUSER_NAME LIKE :eoorWarehouserName>>
<< AND EOOR.EOOR_STATION_CODE LIKE :eoorStationCode >>
<< AND EOOR.EOOR_STATION_NAME LIKE :eoorStationName >>
<< AND EOOR.EOOR_EOSM_PM_CODE LIKE :eoorEosmPmCode>>
<< AND EOOR.EOOR_EOSM_NAME LIKE :eoorEosmName >>

<< AND EOOR.EOOR_ORDER_NO IN (:eoorNos) >>
<< AND EOOR.CREATOR LIKE :esusLoginName >>
<< AND EOOR.EOOR_CONSIGNEE_CONTACT_MOBILE LIKE :eoorConsigneeContactMobile >>
<< AND EOOR.EOOR_SHIPPER_CONTACT_MOBILE LIKE :eoorShipperContactMobile >>
<< AND EOOR.EOOR_SHIPPER_CONSIGNEE_CODE LIKE :eoorShipperConsigneeCode >>
<< AND EOOR.EOOR_SHIPPER_CONSIGNEE_NAME LIKE :eoorShipperConsigneeName >>
<< AND EOOR.EOOR_SHIPPER_FWH_CODE LIKE :eoorShipperFwhCode >>
<< AND EOOR.EOOR_SHIPPER_FWH_NAME LIKE :eoorShipperFwhName >>
<< AND EOOR.EOOR_SHIPPER_PWH_CODE LIKE :eoorShipperPwhCode >>
<< AND EOOR.EOOR_SHIPPER_PWH_NAME LIKE :eoorShipperPwhName >>
<< AND EOOR.EOOR_CONSIGNEE_PROVINCE_CODE LIKE :eoorConsigneeProvinceCode >>
<< AND EOOR.EOOR_CONSIGNEE_PROVINCE_NAME LIKE :eoorConsigneeProvinceName >>
<< AND EOOR.EOOR_CONSIGNEE_FWH_CODE LIKE :eoorConsigneeFwhCode >>
<< AND EOOR.EOOR_CONSIGNEE_FWH_NAME LIKE :eoorConsigneeFwhName >>
<< AND EOOR.EOOR_CONSIGNEE_PWH_CODE LIKE :eoorConsigneePwhCode >>
<< AND EOOR.EOOR_CONSIGNEE_PWH_NAME LIKE :eoorConsigneePwhName >>
<< AND EOOR.EOOR_CARRIER_CODE LIKE :eoorCarrierCode >>
<< AND EOOR.EOOR_CARRIER_NAME LIKE :eoorCarrierName >>
<< AND EOOR.EOOR_BILLING_LINE_CODE LIKE :eoorBillingLineCode >>
<< AND EOOR.EOOR_BILLING_LINE_NAME LIKE :eoorBillingLineName >>
<< AND EOOR.EOOR_MILEAGE LIKE :eoorMileage >>
<< AND EOOR.EOOR_WRITE_STATUS LIKE :eoorWriteStatus >>
<< AND EOOR.EOOR_WRITE_TIME > :eoorWriteTimeFrom >>
<< AND EOOR.EOOR_WRITE_TIME <= :eoorWriteTimeTo + 1 >>
<< AND EOOR.EOOR_COLLECTION_AMOUNT LIKE :eoorCollectionAmount >>
<< AND EOOR.EOOR_SETTLEMENT_CUSTOMER_CODE LIKE :eoorSettlementCustomerCode >>
<< AND EOOR.EOOR_SETTLEMENT_CUSTOMER_NAME LIKE :eoorSettlementCustomerName >>
<< AND EOOR.EOOR_CUSTOMER_TYPE LIKE :eoorCustomerType >>
<< AND EOOR.EOOR_CASH_RECEIPT LIKE :eoorCashReceipt >>
<< AND EOOR.EOOR_ITEM_OWNER_CODE LIKE :eoorItemOwnerCode >>
<< AND EOOR.EOOR_ITEM_OWNER_NAME LIKE :eoorItemOwnerName >>
<< AND EOOR.EOOR_INVOICE_OBJECT LIKE :eoorInvoiceObject >>
<< AND EOOR.EOOR_PLEDGE_CHECK LIKE :eoorPledgeCheck >>
<< AND EOOR.EOOR_IS_VAGUE LIKE :eoorIsVague >>
<< AND EOOR.EOOR_IS_QUALITY_CHECK LIKE :eoorIsQualityCheck >>
<< AND EOOR.EOOR_IS_SALE_PACKUP = :eoorIsSalePackup >>
<< AND EOOR.EOOR_IS_LTL LIKE :eoorIsLtl >>
<< AND EOOR.EOOR_IS_CLOSED LIKE :eoorIsClosed >>
<< AND EOOR.EOOR_IS_PROTOTYPE LIKE :eoorIsPrototype >>
<< AND EOOR.EOOR_IS_EXCEPTION LIKE :eoorIsException >>
<< AND EOOR.EOOR_IS_TEMPERATURE LIKE :eoorIsTemperature >>
<< AND EOOR.EOOR_OFFSET_REASON LIKE :eoorOffsetReason >>
<< AND EOOR.COMPANY_CODE LIKE :companyCode >>
<< AND EOOR.SITE_CODE LIKE :siteCode >>
<< AND EOOR.COMPANY_NAME LIKE :companyName >>
<< AND EOOR.SITE_NAME LIKE :siteName >>
<< AND EOOR.EOOR_ORDER_BIG_TYPE LIKE :eoorOrderBigType >>
<< AND EOOR.EOOR_ORDER_BIG_TYPE IN (:eoorOrderBigTypes) >>
<< AND EOOR.EOOR_ORDER_BIG_TYPE != :eoorOrderBigTypeNot >>
<< AND EOOR.EOOR_LINK_ORDER_NO LIKE :eoorLinkOrderNo>>
<< AND EOOR.EOOR_SALESMAN_CODE like :eoorSalesmanCode >>
<< AND EOOR.EOOR_SALESMAN_NAME like :eoorSalesmanName >>
<< AND EOOR.EOOR_RESERVED_STATUS LIKE :eoorReservedStatus >>
<< AND EOOR.EOOR_CUSTOMER_ORDER_TYPE LIKE :eoorCustomerOrderType >> 
<< AND EOOR.EOOR_CUSTOMER_ORDER_TYPE_NAME LIKE :eoorCustomerOrderTypeName >>
<< AND EOOR.EOOR_SOURCE_NO like :eoorSourceNo >>
<< AND EOOR.EOOR_PLAN_CONTAINER_NO like :eoorPlanContainerNo >>
<< AND EOOR.EOOR_ORIGINAL_NO like :eoorOriginalNo >>
<< AND ESUS.ESUS_USER_NAME_CN like :esusUserNameCn >>
<< AND EOOR.EOOR_CAR_NO like :eoorCarNo >>
<< AND EOOR.EOOR_DRIVER_NAME like :eoorDriverName >>
<< AND EOOR.EOOR_RESERVED_STATUS = :eoorReservedStatus >>
<< AND EOOR.EOOR_LOGISTIC_NO IN (:customerOrderNos)>>
<< AND EOOR.EOOR_UPSTREAM_SYS IN (:upstreamSyses)>>
<< AND EOOR.EOOR_UPSTREAM_SYS = :eoorUpstreamSys >>
<< AND EOOR.EOOR_VERIFICATION_FLAG = :eoorVerificationFlag>>
<< AND EOOR.EOOR_IS_PICKING_RESERVATION = :eoorIsPickingReservation>>
<< AND EOOR.EOOR_IS_DELIVERY_RESERVATION = :eoorIsDeliveryReservation>>
<< AND EOOR.EOOR_ORDER_NO != :eoorRelationNo>>
<< AND EOOR.EOOR_OLD_LOGISTIC_NO = :eoorOldLogisticNo>>
<< AND EOOR.EOOR_STATUS_CODE != :eoorStatusNotCancel >>
<< AND EOOR.EOOR_DISPOSE_FLAG = :eoorDisposeFlag >>
<< AND EOOR.EOOR_LTL_FLAG =:eoorLtlFlag>>
<< AND EOOR.EOOR_SHIPPER_LOCATION_ADDRESS =:eoorShipperLocationAddress>>
<< AND EOOR.EOOR_CONSIGNEE_LOCATION_ADDRE =:eoorConsigneeLocationAddre>>
<< AND EOOR.EOOR_OVERDUE_REASON = :eoorOverdueReason >>
<< AND EOOR.EOOR_OVERDUE_DESCRIPTION = :eoorOverdueDescription >>
<< AND EOOR.EOOR_INTERFACE_CREATE_TIME >= :eoorInterfaceCreateTimeFrom >>
<< AND EOOR.EOOR_INTERFACE_CREATE_TIME <= :eoorInterfaceCreateTimeTo+1 >>
<< and EBCU.IS_GROUP_CUSTOMER = :eoorIsSaleCustomer>>
<< AND EOOR.EOOR_CONTRACT_NO like :eoorContractNo >>
<if eoorMegerFlag=='T'>
   AND nvl(EOOR.EOOR_MEGER_FLAG,'T') =:eoorMegerFlag
</if>
<if eoorMegerFlag=='N'>
   AND nvl(EOOR.EOOR_MEGER_FLAG,'N') =:eoorMegerFlag
</if>
<if eoorMegerFlag=='Y'>
   AND EOOR.EOOR_MEGER_FLAG =:eoorMegerFlag
</if>
<if eoorMegerFlag=='Q'>
   AND EOOR.EOOR_MEGER_FLAG ='N'
</if>
<if eoorSplitFlag=='Q'>
	AND EOOR.EOOR_SPLIT_FLAG IS NULL
</if>
<if eoorSplitFlag=='N'>
	AND nvl(EOOR.EOOR_SPLIT_FLAG,'N') =:eoorSplitFlag
</if>
<#if showOriginalOrder == 'N'>
   AND NVL(EOOR.EOOR_MEGER_FLAG, 'N') != 'Y'
   AND NVL(EOOR.EOOR_SPLIT_FLAG, 'N') != 'Y'
</#if>
<#if defaultReservationQuery == 'Y'>
   AND (EOOR.EOOR_IS_PICKING_RESERVATION = 1 OR EOOR.EOOR_IS_DELIVERY_RESERVATION = 1)
</#if>

<if is_not_empty(eooiCode) || is_not_empty(eooiName) || is_not_empty(eooiLotNo) || is_not_empty(eooiRemark) || is_not_empty(eooiTemperatureLevelCode) || is_not_empty(eooiTemperatureLevelName)>
  AND NVL(EOOI.EOOI_COUNT,0)>0
 </if>
<#if isEoorIsHypermarket == 0>
	/*是否商超*/
    AND EOOR.eoor_Is_Hypermarket != '1' 
</#if>
<#if isEoorIsHypermarket == 1>
	/*是否商超*/
	AND EOOR.eoor_Is_Hypermarket = '1' 
</#if>

AND (##CONDITIONS$EO_ORDER$EOOR##)
ORDER BY EOOR.MODIFY_TIME DESC

		]]>
	</sql-query>
</hibernate-mapping>
