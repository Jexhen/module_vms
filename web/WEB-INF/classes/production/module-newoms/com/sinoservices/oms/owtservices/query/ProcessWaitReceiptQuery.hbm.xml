<?xml version="1.0"?>
<!DOCTYPE hibernate-mapping PUBLIC 
	"-//Hibernate/Hibernate Mapping DTD 3.0//EN"
	"http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">

<hibernate-mapping>
	<sql-query name="ProcessWaitReceiptQuery">
		<![CDATA[
		select count(1) as ORDER_NUM 
		from Md_Delivery_Receipt MDDR inner JOIN ET_TASK ETTA ON ETTA.ETTA_NO = MDDR.MDDR_TASK_NO AND ETTA.ETTA_DO_NO IS NOT NULL
		where 1=1 
		and MDDR.mddr_status = :receiptStatus 
		AND ETTA.ETTA_STATUS IN ('50','60','70','80','90','120','130','430') /**过滤运输单状态为在途、已到达、已卸货、已上传、已签收、网点签收、用户签收、用户拒收**/
		<<and MDDR.create_time > :createTimeFrom>>
		<<and MDDR.create_time < :createTimeTo>>
		and <@dataFilter Table="HLS_ES_COMPANY_CODE" field= "COMPANY_CODE"  alias="MDDR" />
		]]>
	</sql-query>
</hibernate-mapping>