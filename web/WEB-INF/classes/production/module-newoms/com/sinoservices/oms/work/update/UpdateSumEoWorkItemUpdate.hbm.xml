<?xml version="1.0"?>
<!DOCTYPE hibernate-mapping PUBLIC 
	"-//Hibernate/Hibernate Mapping DTD 3.0//EN"
	"http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">

<hibernate-mapping>
	<sql-query name="UpdateSumEoWorkItemUpdate">
		<![CDATA[ 
		
UPDATE EO_WORK_ORDER EOWO
	SET EOWO.EOWO_PACKAGE_QUANTITY = 
  (SELECT SUM(EOWI.EOWI_PACKAGE_QUANTITY)
  FROM EO_WORK_ITEM EOWI
  WHERE EOWI.EOWI_WORK_ORDER_NO = EOWO.EOWO_WORK_ORDER_NO
  AND EOWI.ORG_ID = EOWO.ORG_ID
  AND EOWO.EOWO_WORK_ORDER_NO IN (:workOrderNos) AND EOWO.ORG_ID=:orgId),
  
  EOWO.EOWO_QUANTITY = 
  (SELECT SUM(EOWI.EOWI_QUANTITY)
   FROM EO_WORK_ITEM EOWI
  WHERE EOWI.EOWI_WORK_ORDER_NO = EOWO.EOWO_WORK_ORDER_NO
  AND EOWI.ORG_ID = EOWO.ORG_ID
  AND EOWO.EOWO_WORK_ORDER_NO IN (:workOrderNos) AND EOWO.ORG_ID=:orgId),
  
  EOWO.EOWO_GROSS_WEIGHT = 
  (SELECT SUM(EOWI.EOWI_GROSS_WEIGHT)
   FROM EO_WORK_ITEM EOWI
  WHERE EOWI.EOWI_WORK_ORDER_NO = EOWO.EOWO_WORK_ORDER_NO
  AND EOWI.ORG_ID = EOWO.ORG_ID
  AND EOWO.EOWO_WORK_ORDER_NO IN (:workOrderNos) AND EOWO.ORG_ID=:orgId),
  
  EOWO.EOWO_NET_WEIGHT =
  (SELECT SUM(EOWI.EOWI_NET_WEIGHT)
   FROM EO_WORK_ITEM EOWI
  WHERE EOWI.EOWI_WORK_ORDER_NO = EOWO.EOWO_WORK_ORDER_NO
  AND EOWI.ORG_ID = EOWO.ORG_ID
  AND EOWO.EOWO_WORK_ORDER_NO IN (:workOrderNos) AND EOWO.ORG_ID=:orgId),
  
  EOWO.EOWO_VOLUME =
  (SELECT SUM(EOWI.EOWI_VOLUME)
   FROM EO_WORK_ITEM EOWI
  WHERE EOWI.EOWI_WORK_ORDER_NO = EOWO.EOWO_WORK_ORDER_NO
  AND EOWI.ORG_ID = EOWO.ORG_ID
  AND EOWO.EOWO_WORK_ORDER_NO IN (:workOrderNos) AND EOWO.ORG_ID=:orgId),
  
  EOWO.EOWO_AMOUNT =
  (SELECT SUM(EOWI.EOWI_AMOUNT)
   FROM EO_WORK_ITEM EOWI
  WHERE EOWI.EOWI_WORK_ORDER_NO = EOWO.EOWO_WORK_ORDER_NO
  AND EOWI.ORG_ID = EOWO.ORG_ID
  AND EOWO.EOWO_WORK_ORDER_NO IN (:workOrderNos) AND EOWO.ORG_ID=:orgId)
  
 WHERE EOWO.EOWO_WORK_ORDER_NO IN (:workOrderNos) AND EOWO.ORG_ID=:orgId

		
		

				]]>
	</sql-query>
</hibernate-mapping>