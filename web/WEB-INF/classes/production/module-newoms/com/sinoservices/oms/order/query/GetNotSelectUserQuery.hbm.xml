<?xml version="1.0"?>
<!DOCTYPE hibernate-mapping PUBLIC 
	"-//Hibernate/Hibernate Mapping DTD 3.0//EN"
	"http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">

<hibernate-mapping>
	<sql-query name="GetNotSelectUserQuery">
		<![CDATA[
		select
			ESUS.ESUS_LOGIN_NAME,
			ESUS.ESUS_USER_NAME_CN,
			ESUS.ESUS_ID,
			ESUS.ESUS_ESCO_ID,
			ESUS.ESUS_ESDE_ID,
			ESUS.ESUS_LOGIN_PWD,
			ESUS.ESUS_USER_NAME_EN,
			ESUS.ESUS_EMAIL,
			ESUS.ESUS_TEL,
			ESUS.ESUS_EXT_PHONE,
			ESUS.ESUS_MOBILE,
			ESUS.ESUS_FAX,
			ESUS.ESUS_ISENABLE,
			ESUS.ESUS_REMARK,
			ESUS.ESUS_TEMPLATE_ID,
			ESUS.ESUS_SUBSTR1,
			ESUS.ESUS_SUBSTR2,
			ESUS.ESUS_SUBSTR3,
			ESUS.ESUS_SUBSTR4,
			ESUS.ESUS_SUBSTR5,
			ESUS.ESUS_SUBSTR6,
			ESUS.ESUS_SUBDATE1,
			ESUS.ESUS_SUBDATE2,
			ESUS.ESUS_SUBDATE3,
			ESUS.REC_VER,
			ESUS.CREATE_TIME,
			ESUS.CREATOR,
			ESUS.MODIFY_TIME,
			ESUS.MODIFIER,
			ESUS.ESUS_SUBSTR7,
			ESUS.ESUS_SUBSTR8,
			ESUS.ESUS_SUBDATE4,
			ESUS.ESUS_SUBDATE5,
			ESUS.ESUS_SUBNUM1,
			ESUS.ESUS_SUBNUM2,
			ESUS.ESUS_SUBNUM3,
			ESUS.ESUS_DEFAULT_ESST_ID,
			ESUS.ESUS_DEFAULT_ETST_ID,
			ESUS.ESUS_DEFAULT_PROJECT_ID,
			ESUS.ESUS_MSM_SUFFIX_CODE
		from ES_USER ESUS
		where NOT EXISTS (
			select 
				EOEU.EOEU_ESUS_ID 
			from EO_EORE_2_ESPU EOEU 
			where EOEU.EOEU_ESUS_ID=ESUS.ESUS_ID
			and EOEU.EOEU_EOTO_CODE =:code
			and EOEU.ORG_ID =:orgId
		)
		and ESUS.ESUS_ESCO_ID =:orgId
		]]>
	</sql-query>
</hibernate-mapping>