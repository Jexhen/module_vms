<?xml version="1.0"?>
<!DOCTYPE hibernate-mapping PUBLIC 
	"-//Hibernate/Hibernate Mapping DTD 3.0//EN"
	"http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">

<hibernate-mapping>
	<sql-query name="EoRuleIssuedQuery">
		<![CDATA[
SELECT
        EORU.EORI_ID,
	    EORU.CREATOR,
		EORU.CREATE_TIME,
		EORU.MODIFIER,
		EORU.MODIFY_TIME,
		EORU.REC_VER,
		EORU.REC_STATUS,
		EORU.EORI_WORK_TYPE,
		EORU.EORI_WORK_TYPE_NAME,
		EORU.EORI_MAIN_DP,
		EORU.EORI_TRANSPORT_TYPE,
		EORU.EORI_IS_BUS,
		EORU.EORI_ISSUED_SYSTEM,
		EORU.EORI_STATUS,
	    EORU.EORI_CARRIER_CODE,
	    EORU.EORI_CARRIER_NAME,
	    EORU.EORI_IS_SPLIT_TRANSPORT,
	    EORU.EORI_PWH_CODE,
	    EORU.EORI_PWH_NAME,

        ESUS.esus_login_name as creator_login_name,
	    ESUS.esus_user_name_cn as creator_name_cn,
	    eu1.esus_login_name as modifier_login_name,
	    eu1.esus_user_name_cn as modifier_name_cn

  FROM EO_RULE_ISSUED EORU
  LEFT JOIN ES_USER eu1 on EORU.MODIFIER=eu1.esus_id  
  LEFT JOIN ES_USER ESUS ON EORU.CREATOR=ESUS.ESUS_ID

 WHERE 1=1
 and REC_STATUS !=-1
 <<AND EORU.EORI_ID LIKE :eoriId>>
 <<AND EORU.CREATOR LIKE :creator>>
 <<AND EORU.CREATE_TIME > :createTimeFrom>>
 <<AND EORU.CREATE_TIME <= :createTimeTo + 1>>
 <<AND EORU.MODIFIER LIKE :modifier>>
 <<AND EORU.MODIFY_TIME > :modifyTimeFrom>>
 <<AND EORU.MODIFY_TIME <= :modifyTimeTo + 1>>
 <<AND EORU.REC_VER LIKE :recVer>>
 <<AND EORU.REC_STATUS LIKE :recStatus>>
 <<AND EORU.EORI_WORK_TYPE LIKE :eoriWorkType>>
 <<AND EORU.EORI_MAIN_DP LIKE :eoriMainDp>>
 <<AND EORU.EORI_TRANSPORT_TYPE LIKE :eoriTransportType>>
 <<AND EORU.EORI_IS_BUS LIKE :eoriIsBus>>
 <<AND EORU.EORI_ISSUED_SYSTEM LIKE :eoriIssuedSystem>>
 <<AND EORU.EORI_STATUS LIKE :eoriStatus>>
 ${queryPlanDefinedSql}
 ${queryPlanSortSql}
		]]>
	</sql-query>
</hibernate-mapping>