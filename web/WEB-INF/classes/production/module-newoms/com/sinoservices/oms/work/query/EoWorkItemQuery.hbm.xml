<?xml version="1.0"?>
<!DOCTYPE hibernate-mapping PUBLIC 
	"-//Hibernate/Hibernate Mapping DTD 3.0//EN"
	"http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">

<hibernate-mapping>
	<sql-query name="EoWorkItemQuery">
		<![CDATA[

SELECT EOWI.EOWI_ID,
       EOWI.CREATOR,
       EOWI.CREATE_TIME,
       EOWI.MODIFIER,
       EOWI.MODIFY_TIME,
       EOWI.REC_VER,
       EOWI.REC_STATUS,
       EOWI.ORG_ID,
       EOWI.PM_CODE,
       EOWI.EOWI_WORK_ORDER_NO,
       EOWI.EOWI_CODE,
       EOWI.EOWI_NAME,
       EOWI.EOWI_PACKAGE_TYPE_CODE,
       EOWI.EOWI_PACKAGE_TYPE_NAME,
       EOWI.EOWI_PACKAGE_UNIT_CODE,
       EOWI.EOWI_PACKAGE_UNIT_NAME,
       EOWI.EOWI_ITEM_TYPE_CODE,
       EOWI.EOWI_ITEM_TYPE_NAME,
       EOWI.EOWI_PACKAGE_QUANTITY,
       EOWI.EOWI_QUANTITY,
       ROUND(EOWI.EOWI_GROSS_WEIGHT,2) AS EOWI_GROSS_WEIGHT,
       EOWI.EOWI_NET_WEIGHT,
       ROUND(EOWI.EOWI_VOLUME,6) AS EOWI_VOLUME,
       EOWI.EOWI_LOT_NO,
       EOWI.EOWI_PRICE,
       EOWI.EOWI_AMOUNT,
       EOWI.EOWI_TEMPERATURE_LEVEL_CODE,
       EOWI.EOWI_TEMPERATURE_LEVEL_NAME,
       EOWI.EOWI_TEMPERATURE_FM,
       EOWI.EOWI_TEMPERATURE_TO,
       EOWI.EOWI_REMARK,
       EOWI.EOWI_PRODUCTION_DATE,
       EOWI.EOWI_SHELF_LIFE,
       EOWI.EOWI_SHELF_LIFE_UNIT,
       EOWI.EOWI_LOTATT01,
       EOWI.EOWI_LOTATT02,
       EOWI.EOWI_LOTATT03,
       EOWI.EOWI_LOTATT04,
       EOWI.EOWI_LOTATT05,
       EOWI.EOWI_LOTATT06,
       EOWI.EOWI_LOTATT07,
       EOWI.EOWI_LOTATT08,
       EOWI.EOWI_LOTATT09,
       EOWI.EOWI_LOTATT10,
       EOWI.EOWI_LOTATT11,
       EOWI.EOWI_LOTATT12,
       NVL(LOT.code_alias,
        (select eb.EBCD_NAME_CN
        from eb_code_master eb
       where eb.ebcd_dictionary_type = 'SYS_WM_QUALIFY'
         and eb.EBCD_SUBSTR1 = 'Y'
         and eb.ebcd_code = EOWI.EOWI_LOTATT04)) as STATUS_NAME, 
       EOWI.EOWI_ALLOCATED_QTY,
       EOWI.EOWI_SIGN_QTY,
       EOWI.EOWI_ITEM_DENSITY,
       EOWI.EOWI_ITEM_STATUS,
       EOWI.EOWI_CHARGE_STANDARD,
       EOWI.EOWI_IS_TEMPERATURE,
       EOWI.EOWI_IS_COMBINATION,
       EOWI.EOWI_ITEM_SCALE,
       EOWI.COMPANY_CODE,
       EOWI.SITE_CODE,
       EOWI.EOWI_IS_DANGEROUS,
       EOWI.EOWI_IN_ITEM_STATUS,
       EOWI.EOWI_SALESMAN_CODE,
       EOWI.EOWI_SALESMAN_NAME,
       EOWI.EOWI_SOURCE_DATA_NO,
       EOWI.EOWI_JOB_NO,
       EOWI.EOWI_INVOICE_RECOVER_STATUS,
       EOWI.EOWI_INVOICE_LINE,
       EOWI.EOWI_REAL_OUT_QUANTITY,
       EOWI.EOWI_REAL_IN_QUANTITY,
       EOWI.EOWI_UNIT_QUANTITY,
       EOWI.EOWI_UNIT_GROSS_WEIGHT,
       EOWI.EOWI_UNIT_VOLUME,
       EOWI.EOWI_LINK_PM_CODE,
       EOWI.EOWI_CUSTOMER_ITEM_NO,
       EOWI.EOWI_UPSTREAM_LINE_NO,
       EOWI.EOWI_NOT_SPLIT_QUANTITY,
       EOWI.EOWI_NOT_GROSS_WEIGHT,
       EOWI.EOWI_NOT_VOLUME,
       EOWI.EOWI_SCAN_QUANTITY,
       EOWI.EOWI_COM_INSPECT_REMARKS,
       EOWI.EOWI_SOURCE_SUBINV_CODE,
       EOWI.EOWI_TARGET_SUBINV_CODE,
       EOWI.EOWI_PALLET_ID,
       EOWI.EOWI_ORDER_NO,
       EOWI.EOWI_PRICE_NO_TAX,
       EOWI.EOWI_ADJUSTMEN_TYPE,
       EOWI.EOWI_SHORT_SHIPMENT_REASON,
       EOWI.EOWI_LINE_NO,
       EOWI.EOWI_LOC_CODE,
       EOWI.EOWI_TRACE_NO,
       EOWI.EOWI_LOT,
       EOWI.EOWI_WMS_UNDO_QUANTITY,
       EOWI.EOWI_MAIN_GOODS_CODE,
       EOWI.EOWI_REVERSAL_REASON,
       EOWI.EOWI_TARGET_LOTATT01,
       EOWI.EOWI_TARGET_LOTATT02,
       EOWI.EOWI_TARGET_LOTATT03,
       EOWI.EOWI_TARGET_LOTATT04,
       EOWI.EOWI_TARGET_LOTATT05,
       EOWI.EOWI_TARGET_LOTATT06,
       EOWI.EOWI_TARGET_LOTATT07,
       EOWI.EOWI_TARGET_LOTATT08,
       EOWI.EOWI_TARGET_LOTATT09,
       EOWI.EOWI_TARGET_LOTATT10,
       EOWI.EOWI_TARGET_LOTATT11,
       EOWI.EOWI_TARGET_LOTATT12,
       EOWI.EOWI_SUBSTR1,
       EOWI.EOWI_SUBSTR2,
       EOWI.EOWI_SUBSTR3,
       EOWI.EOWI_SUBSTR4,
       EOWI.EOWI_SUBSTR5,
       EOWI.EOWI_SUBSTR6,
       EOWI.EOWI_SUBSTR7,
       EOWI.EOWI_SUBSTR8,
       EOWI.EOWI_SUBDATE1,
       EOWI.EOWI_SUBDATE2,
       EOWI.EOWI_SUBDATE3,
       EOWI.EOWI_SUBDATE4,
       EOWI.EOWI_SUBNUM1,
       EOWI.EOWI_SUBNUM2,
       EOWI.EOWI_SUBNUM3,
       EOWI.EOWI_SUBNUM4,
       EOWI.EOWI_TYPE_NAME_UNIT_CODE,
       EOWI.FROZEN_RECORD_NO,
       EOWI.ORDER_ITEM_ID,
       EOWI.EOWI_CUST_GOODS_CODE,
       NVL(TARGETLOT.code_alias,
       (select eb.EBCD_NAME_CN
          from eb_code_master eb
         where eb.ebcd_dictionary_type = 'SYS_WM_QUALIFY'
           and eb.EBCD_SUBSTR1 = 'Y'
           and eb.ebcd_code = EOWI.EOWI_TARGET_LOTATT04)) as STATUS_TARGET_NAME  
  FROM EO_WORK_ITEM EOWI
   left join EO_WORK_ORDER EOWO
       ON EOWO.EoWO_WORK_Order_No = EOWI.EOWI_WORK_ORDER_NO
 LEFT JOIN WM_CODE_MASTER LOT
       ON  EOWO.eoWO_Customer_Code = LOT.owner_code
       AND EOWI.EOWI_LOTATT04 = LOT.CODE_ID
       AND LOT.STATUS = 0
       AND LOT.REC_STATUS = 0
 LEFT JOIN WM_CODE_MASTER TARGETLOT 
       ON  EOWO.eowo_Customer_Code = TARGETLOT.owner_code
       AND  EOWI.EOWI_TARGET_LOTATT04 = TARGETLOT.CODE_ID
       AND TARGETLOT.STATUS = 0
       AND TARGETLOT.REC_STATUS = 0
 WHERE 1 = 1
   AND EOWI.REC_STATUS = 0
 <<AND EOWI.EOWI_ID LIKE :eowiId>>
<<AND EOWI.EOWI_WORK_ORDER_NO LIKE :eowiWorkOrderNo>>
<<AND EOWI.EOWI_WORK_ORDER_NO IN (:eowiWorkOrderNos)>>
<<AND EOWI.EOWI_ORDER_NO IN (:eowiOrderNos)>>
		]]>
	</sql-query>
</hibernate-mapping>
