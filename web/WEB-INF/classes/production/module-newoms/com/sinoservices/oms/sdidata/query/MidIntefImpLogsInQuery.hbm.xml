<?xml version="1.0"?>
<!DOCTYPE hibernate-mapping PUBLIC 
	"-//Hibernate/Hibernate Mapping DTD 3.0//EN"
	"http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">
 
<hibernate-mapping>
	<sql-query name="MidIntefImpLogsInQuery">
		<![CDATA[
SELECT
       mid.JOB_ID,
       mid.CREATOR,
       mid.CREATE_TIME,
       mid.MODIFIER,
       mid.MODIFY_TIME,
       mid.ORD_NO,
       mid.FAIL_MSG,
       mid.IMP_DATE,
       mid.ORDER_TYPE,
       mid.CUST_CUSTOMER_CODE,
       mid.CUST_CUSTOMER_NAME,
       mid.OPERATE_ID,
       mid.JOB_SEQ_NO,
       eu1.esus_login_name as CREATOR_LOGIN_NAME,
       eu1.esus_user_name_cn as CREATOR_NAME_CN,
       eu2.esus_login_name as MODIFIER_LOGIN_NAME,
       eu2.esus_user_name_cn as MODIFIER_NAME_CN,
       mid.EDIFLAG
  FROM MID_LOG_ORDER_B2B mid 
  left join es_user eu1 on mid.creator=eu1.esus_id 
  left join es_user eu2 on mid.modifier=eu2.esus_id
 WHERE 1=1  and mid.EDIFLAG='20' 
 <<AND mid.JOB_ID LIKE :jobId>>
 <<AND mid.CREATOR LIKE :creator>>
 <<AND mid.CREATE_TIME > :createTimeFrom>>
 <<AND mid.CREATE_TIME <= :createTimeTo>>
 <<AND mid.MODIFIER LIKE :modifier>>
 <<AND mid.MODIFY_TIME > :modifyTimeFrom>>
 <<AND mid.MODIFY_TIME <= :modifyTimeTo>>
 <<AND mid.ORD_NO LIKE :ordNo>>
 <<AND mid.FAIL_MSG LIKE :failMsg>>
 <<AND mid.IMP_DATE > :impDateFrom>>
 <<AND mid.IMP_DATE <= :impDateTo + 1>>
 <<AND mid.ORDER_TYPE LIKE :orderType>>
 <<AND mid.CUST_CUSTOMER_CODE LIKE :custCustomerCode>>
 <<AND mid.CUST_CUSTOMER_NAME LIKE :custCustomerName>>
 <<AND mid.OPERATE_ID LIKE :operateId>>
 <<AND mid.JOB_SEQ_NO LIKE :jobSeqNo>>
 <<AND mid.EDIFLAG LIKE :ediflag>>
  ORDER BY mid.CREATE_TIME DESC
		]]>
	</sql-query>
</hibernate-mapping>