<?xml version="1.0"?>
<!DOCTYPE hibernate-mapping PUBLIC 
	"-//Hibernate/Hibernate Mapping DTD 3.0//EN"
	"http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">
 
<hibernate-mapping>
	<sql-query name="MidLogJobQuery">
		<![CDATA[
SELECT
       job.JOB_ID,
       job.CREATOR,
       job.CREATE_TIME,
       job.MODIFIER,
       job.MODIFY_TIME,
       job.PK,
       job.LOG_CONTENT,
       job.LOG_REMARK,
       job.STATUS,
       job.OPERATE_ID,
       job.OPERATE_NAME,
       job.JOB_SEQ_NO,
       job.ORDER_NO,
       operate.OPERATE_CN,
       eu1.esus_login_name as CREATOR_LOGIN_NAME,
       eu1.esus_user_name_cn as CREATOR_NAME_CN,
       eu2.esus_login_name as MODIFIER_LOGIN_NAME,
       eu2.esus_user_name_cn as MODIFIER_NAME_CN,
       operate.OPERATE_DES
  FROM MID_LOG_JOB job left join MID_CONF_OPERATE operate on job.OPERATE_ID=operate.operate_id  
  left join es_user eu1 on job.creator=eu1.esus_id 
  left join es_user eu2 on job.modifier=eu2.esus_id
 WHERE 1=1
 <<AND  job.JOB_ID LIKE :jobId>>
 <<AND job.CREATOR LIKE :creator>>
 <<AND job.CREATE_TIME > :createTimeFrom>>
 <<AND job.CREATE_TIME <= :createTimeTo>>
 <<AND job.MODIFIER LIKE :modifier>>
 <<AND job.MODIFY_TIME > :modifyTimeFrom>>
 <<AND job.MODIFY_TIME <= :modifyTimeTo>>
 <<AND job.PK LIKE :pk >>
 <<AND job.LOG_CONTENT LIKE :logContent>>
 <<AND job.LOG_REMARK LIKE :logRemark>>
 <<AND job.STATUS LIKE :status>>
 <<AND job.OPERATE_ID LIKE :operateId>>
 <<AND job.OPERATE_NAME LIKE :operateName>>
 <<AND job.JOB_SEQ_NO LIKE :jobSeqNo>>
 <<AND job.ORDER_NO LIKE :orderNo>>
 order by job.CREATE_TIME desc
		]]>
	</sql-query>
</hibernate-mapping>