<?xml version="1.0"?>
<!DOCTYPE hibernate-mapping PUBLIC 
	"-//Hibernate/Hibernate Mapping DTD 3.0//EN"
	"http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">

<hibernate-mapping>
	<sql-query name="EoOrderAndWorkItemByOrderNoQuery">
		<![CDATA[

SELECT EOOR.EOOR_SOURCE_NO,
       EOOR.EOOR_ORDER_NO,
       eoor.EOOR_LOGISTIC_NO,
       EOWI.Eowi_Code,
       EOWI.Eowi_Customer_Item_No,
       EOWI.Eowi_Name,
       EOWI.Eowi_Package_Type_Name,
       EOWI.Eowi_Package_Unit_Name,
       EOWI.Eowi_Package_Quantity
  FROM EO_WORK_ORDER EOWO
  LEFT JOIN EO_WORK_ITEM EOWI
    ON EOWO.EOWO_WORK_ORDER_NO = EOWI.EOWI_WORK_ORDER_NO
  LEFT JOIN EO_ORDER EOOR
    ON EOWO.Eowo_Order_No = EOOR.eoor_order_no
 WHERE 1 = 1
   AND EOWO.EOWO_UPPER_TASK_NO != '-1'
   AND EOWO.EOWO_STATUS_CODE = '99'
   AND EOWO.eowo_Task_Big_Type = 'OUT'
   AND eowo.eowo_package_quantity > 0
   AND eowi.eowi_package_quantity > 0 
   <<AND EOWO.EOWO_ORDER_NO in (:eoorOrderNos) >>
   ORDER BY EOOR.EOOR_ORDER_NO 
		]]>
	</sql-query>
</hibernate-mapping>
