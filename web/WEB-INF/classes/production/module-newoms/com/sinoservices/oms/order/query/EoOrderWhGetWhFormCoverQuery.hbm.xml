<?xml version="1.0"?>
<!DOCTYPE hibernate-mapping PUBLIC 
	"-//Hibernate/Hibernate Mapping DTD 3.0//EN"
	"http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">

<hibernate-mapping>
	<sql-query name="EoOrderWhGetWhFormCoverQuery">
		<![CDATA[

SELECT GETV.EOWD_WH_CODE,GETV.EOWD_WH_NAME FROM (SELECT DISTINCT EOWED.EOWD_WH_CODE AS EOWD_WH_CODE,EOWED.EOWD_WH_NAME AS EOWD_WH_NAME,EOWED.EOWD_PRIORITY AS EOWD_PRIORITY 

FROM EO_ORDER_WH_EBCU_DETAIL EOWED,EO_ORDER_WH_COVER_REGION EOWCR

WHERE 
       EOWED.EOWD_EOWR_CODE=EOWCR.EWCR_EOWR_CODE 
   AND EOWED.ORG_ID=EOWCR.ORG_ID 
   AND EOWED.EOWD_WH_CODE=EOWCR.EWCR_WH_CODE
   AND ((EOWCR.EWCR_REGION_CLASS='PLACE_COUNTRY' AND EOWCR.EWCR_REGION_COUNTRY_CODE=:ewcrRegionCountryCode ) OR
          (EOWCR.EWCR_REGION_CLASS='PLACE_PROVINCE' AND EOWCR.EWCR_REGION_PROVINCE_CODE=:ewcrRegionPovinceCode ) OR
          (EOWCR.EWCR_REGION_CLASS='PLACE_CITY' AND EOWCR.EWCR_REGION_CITY_CODE=:ewcrRegionCityCode ) OR
          ((EOWCR.EWCR_REGION_CLASS='PLACE_LOCATION' OR EOWCR.EWCR_REGION_CLASS='PLACE_DISTRICT') AND EOWCR.EWCR_REGION_REG_CODE=:ewcrRegionRegCode ))
 <<  AND EOWED.EOWD_EOWR_CODE LIKE :eowdEowrCode >>
 <<  AND EOWED.ORG_ID=:orgId >> ) GETV ORDER BY GETV.EOWD_PRIORITY DESC

		]]>
	</sql-query>
</hibernate-mapping>
