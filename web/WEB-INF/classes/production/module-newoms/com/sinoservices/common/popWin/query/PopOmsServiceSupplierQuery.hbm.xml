<?xml version="1.0"?>
<!DOCTYPE hibernate-mapping PUBLIC 
	"-//Hibernate/Hibernate Mapping DTD 3.0//EN"
	"http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">

<hibernate-mapping>
	<sql-query name="PopOmsServiceSupplierQuery">
		<![CDATA[
			  select distinct
			  EBCU.EBCU_ID,
			  EBCU.EBCU_QUICK_CODE,
			  EBCU.PM_CODE,
			  EBCU.EBCU_INDUSTRY_TYPE,
			  EBCU.EBCU_PLATFORM_NATURE,
			  EBCU.EBCU_NAME_CN,
			  EBCU.EBCU_SHORT_NAME,
			  EBCU.EBCU_NAME_EN,
			  EBCU.EBCU_TEL,
			  EBCU.EBCU_FAX,
			  EBCU.EBCU_URL,
			  EBCU.EBCU_ADDRESS,
			  EBCU.EBCU_FINANCE_CODE,
			  EBCU.EBCU_TAX_REGIST_NO,
			  EBCU.EBCU_BUSINESS_NO,
			  EBCU.EBCU_EBFL_ID,
			  EBCU.EBCU_CUSTOMER_STATUS,
			  EBCU.EBCU_REGISTRATION_DATE,
			  EBCU.EBCU_MAX_GUARANTEE_AMOUNT,
			  EBCU.EBCU_MAIN_BUSINESS,
			  EBCU.EBCU_IS_SUBSUPPLIER,
			  EBCU.EBCU_IS_CUSTOMER,
			  EBCU.EBCU_IS_SETTLEMENT,
			  EBCU.EBCU_REMARK,
			  EBCU.EBCU_ESCO_ID,
			  EBCU.EBCU_SUBSTR1,
			  EBCU.EBCU_SUBSTR2,
			  EBCU.EBCU_SUBSTR3,
			  EBCU.EBCU_SUBSTR4,
			  EBCU.EBCU_SUBSTR5,
			  EBCU.EBCU_SUBSTR6,
			  EBCU.EBCU_SUBDATE1,
			  EBCU.EBCU_SUBDATE2,
			  EBCU.EBCU_SUBDATE3,
			  EBCU.REC_VER,
			  EBCU.CREATE_TIME,
			  EBCU.MODIFY_TIME,
			  EBCU.MODIFIER,
			  EBCU.CREATOR,
			  EBCU.EBCU_CDH_CODE,
			  EBCU.EBCU_SUBSTR7,
			  EBCU.EBCU_SUBSTR8,
			  EBCU.EBCU_SUBDATE4,
			  EBCU.EBCU_SUBDATE5,
			  EBCU.EBCU_SUBNUM1,
			  EBCU.EBCU_SUBNUM2,
			  EBCU.EBCU_SUBNUM3,
			  EBCU.EBCU_CHANGE_CODE,
			  EBCU.ORG_ID,
			  EBCU.TIME_ZONE,
			  EBCU.REC_STATUS,
			  EBCU.EBCU_EBPL_COUNTRY_CODE,
			  EBCU.EBCU_EBPL_PROVINCE_CODE,
			  EBCU.EBCU_EBPL_CITY_CODE,
			  EBCU.EBCU_CUSTOMER_NO
			  from EB_CUSTOMER EBCU
			  left join EB_CUSTOMER_ROLE EBCR on EBCR.EBCR_EBCU_PM_CODE = EBCU.PM_CODE 
			       and EBCR.ORG_ID = EBCU.ORG_ID
			  where 1=1
			  and EBCU.EBCU_IS_SUBSUPPLIER = 'Y'
			  <<and EBCU.ORG_ID = :orgId>>
			  <<and EBCU.EBCU_CUSTOMER_NO like '%' || :ebcuCustomerNo || '%'>>
			  <<and EBCU.EBCU_NAME_CN like '%' || :ebcuNameCn || '%'>>
			  <<and EBCU.EBCU_NAME_EN like '%' || :ebcuNameEn || '%'>>
			  <<and EBCR.EBCR_ROLE_CODE like '%' || :ebcuRoleCode || '%'>>
			  <<and EBCU.REC_STATUS = :recStatus>>
			   order by EBCU.MODIFY_TIME desc
		]]>
	</sql-query>
</hibernate-mapping>
