<?xml version="1.0"?>
<!DOCTYPE hibernate-mapping PUBLIC 
	"-//Hibernate/Hibernate Mapping DTD 3.0//EN"
	"http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">

<hibernate-mapping>
	<sql-query name="PopOmsEbRegionQuery">
		<![CDATA[

SELECT 
EBRG.EBRG_ID,
EBRG.EBRG_ESCO_ID,
EBRT.EBRG_EBPL_COUNTRY_CODE,
EBRT.EBRG_EBPL_PROVINCE_CODE,
EBRT.EBRG_EBPL_CITY_CODE,
EBRG.EBRG_QUICK_CODE,
EBRG.EBRG_NO,
EBRG.EBRG_NAME_CN,
EBRG.EBRG_NAME_EN,
EBRG.EBRG_ADDRESS,
EBRG.EBRG_FLOW,
EBRG.EBRG_POST_CODE,
EBRG.EBRG_GB_CODE,
EBRG.EBRG_STATUS,
EBRG.EBRG_STAT_GROUP,
EBRT.EBRT_ID,
EBRT.EBRG_ESST_CODE,
EBRT.EBRG_EBLC_CODE,
EBRT.REC_STATUS
FROM EB_REGION EBRG
LEFT JOIN EB_REGION_TS EBRT ON EBRG.EBRG_NO = EBRT.EBRT_EBRG_CODE
AND EBRT.ORG_ID=EBRG.EBRG_ESCO_ID
WHERE 1 = 1
<<AND EBRG.EBRG_ESCO_ID=:orgId>>
<<AND EBRG.EBRG_NO like   '%' || :ebrgNo  || '%'>>
<<AND EBRG.EBRG_NAME_CN like   '%' || :ebrgNameCn  || '%'>>
<<AND EBRG.EBRG_NAME_EN like   '%' || :ebrgNameEn || '%' >>
<<AND EBRG.EBRG_FLOW like   '%' || :ebrgFlow  || '%'>>
<<AND EBRG.EBRG_GB_CODE like   '%' || :ebrgGbCode || '%' >>
<<AND EBRG.EBRG_QUICK_CODE like   '%' || :ebrgQuickCode || '%' >>
<<AND EBRG.EBRG_STATUS LIKE  '%' || :ebrgStatus || '%'>>
<<AND EBRT.EBRG_ESST_CODE LIKE  '%' || :ebrgEsstCode || '%' >>
<<AND EBRT.REC_STATUS = :recStatus >>
<<AND EBRG.EBRG_NAME_CN IN (:ebrgNameCns)>>
ORDER BY EBRG.MODIFY_TIME DESC

		]]>
	</sql-query>
</hibernate-mapping>
